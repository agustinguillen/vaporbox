{"version":3,"sources":["./src/app/components/user-edit/user-edit.component.ts","./src/app/components/user-edit/user-edit.component.html","./src/app/models/user.ts","./src/app/components/chat/chat.component.ts","./src/app/components/chat/chat.component.html","./src/app/components/saved-publications/saved-publications.component.ts","./src/app/components/saved-publications/saved-publications.component.html","./src/environments/environment.ts","./src/app/components/publications/publications.component.ts","./src/app/components/publications/publications.component.html","./src/app/pipes/filter.pipe.ts","./src/app/components/profile/profile.component.ts","./src/app/components/profile/profile.component.html","./src/app/services/user.guard.ts","./src/app/components/users/users.component.ts","./src/app/components/users/users.component.html","./src/app/models/publication.ts","./src/app/components/timeline/timeline.component.ts","./src/app/components/timeline/timeline.component.html","./src/app/services/follow.service.ts","./src/app/services/notification.service.ts","./src/app/components/notifications/notifications.component.ts","./src/app/components/notifications/notifications.component.html","./node_modules/moment/locale sync ^\\.\\/.*$","./src/app/app.component.ts","./src/app/app.component.html","./src/app/components/login/login.component.ts","./src/app/components/login/login.component.html","./src/app/components/register/register.component.ts","./src/app/components/register/register.component.html","./src/app/app.module.ts","./src/app/pipes/truncate.pipe.ts","./src/app/components/navbar/navbar.component.ts","./src/app/components/navbar/navbar.component.html","./src/app/services/upload.service.ts","./src/app/components/followers/followers.component.ts","./src/app/components/followers/followers.component.html","./src/app/models/follow.ts","./src/app/components/loading/loading.component.ts","./src/app/components/loading/loading.component.html","./src/app/models/message.ts","./src/app/services/user.service.ts","./src/app/services/message.service.ts","./src/app/app-routing.module.ts","./src/app/components/following/following.component.ts","./src/app/components/following/following.component.html","./src/app/services/publication.service.ts","./src/app/components/sidebar/sidebar.component.ts","./src/app/components/sidebar/sidebar.component.html","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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AS,CAC/D,QAAQ,CAAC,EAAE;YACT,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC;QAC9C,CAAC,EACD,KAAK,CAAC,EAAE;YACN,OAAO,CAAC,GAAG,CAAM,KAAK,CAAC,CAAC;QAC1B,CAAC,CACF;IACH,CAAC;;4FArCU,sBAAsB;sGAAtB,sBAAsB,kHAFtB,CAAE,kEAAW,EAAE,gFAAkB,EAAE,yFAAmB,CAAE;QCrBrE,yEAA+D;QAC3D,yEAAkB;QACd,wEAAsC;QAAA,yEAAc;QAAA,4DAAK;QACzD,yEAAgC;QAC5B,kHAwBM;QACd,4DAAM;QACV,4DAAM;QA9BN,4DAA+D;;QAA1D,4EAAK;QAIgC,0DAAgB;QAAhB,sFAAgB;shPDS5C;YACV,mEAAO,CAAC,MAAM,EAAE;gBACd,iEAAK,CAAC,MAAM,EAAE,iEAAK,CAAC,EAAE,OAAO,EAAE,CAAC,EAAE,CAAC,CAAC;gBACpC,sEAAU,CAAC,gBAAgB,EAAE;oBAC3B,mEAAO,CAAC,IAAI,CAAC;iBACd,CAAC;aACH,CAAC;SACF;;;;;;;;;;;;AEpBJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2B;;;;;;;;;;;;ACjSA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsD;;;;;;;ICFtD,wEAAoG;;ADU7F,MAAM,YAAY;IAMvB,YACU,YAAwB,EACxB,OAAe;QADf,iBAAY,GAAZ,YAAY,CAAY;QACxB,YAAO,GAAP,OAAO,CAAQ;QAPlB,UAAK,GAAG,UAAU,CAAC;QASxB,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,GAAG,CAAC;IAC5B,CAAC;IAED,QAAQ;QACN,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;IAClD,CAAC;IAED,S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","file":"main.js","sourcesContent":["import { ThrowStmt } from '@angular/compiler';\r\nimport { Component, Input, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UploadService } from '../../services/upload.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-user-edit',\r\n  templateUrl: './user-edit.component.html',\r\n  styleUrls: ['./user-edit.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(500)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, UploadService ]\r\n})\r\nexport class UserEditComponent implements OnInit {\r\n  public user: User;\r\n  public identity;\r\n  public token;\r\n  public status:string;\r\n\r\n  constructor(\r\n      private _router:Router,\r\n      private _route:ActivatedRoute,\r\n      private _userService:UserService,\r\n      private _uploadService:UploadService\r\n  ) { \r\n    this.user = this._userService.getIdentity();\r\n    this.identity = this.user;\r\n    this.token = this._userService.getToken();\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  onSubmit(){\r\n    this._userService.updateUser(this.user).subscribe(\r\n        response => {\r\n            if(!response.user){\r\n              this.status = 'error';\r\n            }else{\r\n              \r\n              this.status = 'success';\r\n              localStorage.setItem('identity', JSON.stringify(this.user));\r\n              this.identity = this.user;\r\n\r\n              //Subir archivo de imagen usuario\r\n              this._uploadService.makeFileRequest('api/upload-image-user/'+this.user._id, [], this.filesToUpload, this.token, 'image')\r\n                                  .then((result:any)=>{\r\n                                      this.user.image = result.user.image;\r\n                                      localStorage.setItem('identity', JSON.stringify(this.user));\r\n                                      window.location.reload();\r\n                                  });\r\n            }\r\n        },\r\n        error => {\r\n            let errorMessage = <any>error;\r\n            console.log(errorMessage);\r\n\r\n            if(errorMessage != null){\r\n              this.status = 'error';\r\n            }\r\n        }\r\n    );\r\n  }\r\n  \r\n  public filesToUpload:Array<File>\r\n  fileChangeEvent(fileInput:any){\r\n      this.filesToUpload = <Array<File>>fileInput.target.files;\r\n  }\r\n\r\n  deleteUser(id){\r\n    this._userService.deleteUser(id).subscribe(\r\n      response => {\r\n        if(response){\r\n          localStorage.clear();\r\n          this.identity = null;\r\n          this._router.navigate(['/register']);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<div @fade class=\"row user-edit-container\">\r\n    <div class=\"mb-5 mt-5 form-container\">\r\n        <h3 class=\"mb-3 text-center section-title\">Editar perfil</h3>\r\n\r\n\r\n        <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n            Los cambios se han guardado correctamente.\r\n        </div>\r\n        <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n            No se han podido guardar los cambios, intentalo nuevamente.\r\n        </div>\r\n\r\n\r\n        <form #editUserForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"col-xl-10 col-lg-10\">\r\n            <div class=\"row\">\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"name\">Nombre</label>\r\n                        <input type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" class=\"form-control\" required/>\r\n                        <span *ngIf=\"!name.value && name.touched\">El nombre es obligatorio</span>\r\n                    </div>\r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"surname\">Apellido</label>\r\n                        <input type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" class=\"form-control\" maxlength=\"50\" required/>\r\n                        <span *ngIf=\"!surname.value && surname.touched\">El apellido es obligatorio</span>\r\n                    </div>\r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"nick\">Nombre de usuario</label>\r\n                        <input type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" class=\"form-control\" maxlength=\"50\" required/>\r\n                        <span *ngIf=\"!nick.value && nick.touched\">El nombre de usuario es obligatorio</span>\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"email\">Correo electrnico</label>\r\n                        <input type=\"text\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" class=\"form-control\" required pattern=\"[a-z0-9-_%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"/>\r\n                        <span *ngIf=\"!email.value && email.touched\">La direccin de correo electrnico es obligatoria</span>\r\n                    </div>\r\n        \r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"bio\">Bio</label>\r\n                        <input type=\"text\" name=\"bio\" #bio=\"ngModel\" [(ngModel)]=\"user.bio\" class=\"form-control\" maxlength=\"100\"/>\r\n                    </div>\r\n        \r\n                    <div class=\"col-lg-12 mt-3\">\r\n                        <label for=\"photo\">Foto de perfil</label>\r\n                        <input #fileInput type=\"file\" placeholder=\"Subir imgen\" class=\"form-control\" (change)=\"fileChangeEvent($event)\"/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"user.image\" class=\"text-center mt-3\">\r\n                <img src=\"{{user.image}}\" alt=\"Imagen de usuario cargada\" class=\"loaded-img\"/><br>\r\n            </div>\r\n\r\n            <div class=\"text-center\">\r\n                <button type=\"submit\" class=\"btn btn-default mt-3\" [disabled]=\"!editUserForm.form.valid\">Guardar cambios</button>\r\n                <button type=\"button\" class=\"btn btn-sm btn-light mt-3\" type=\"button\" data-bs-toggle=\"modal\" data-bs-target=\"#deleteModal\">\r\n                    <i class=\"fa fa-trash\"></i>Eliminar cuenta\r\n                </button>\r\n            </div>\r\n        </form>\r\n\r\n        <!-- Modal -->\r\n        <div class=\"modal fade\" id=\"deleteModal\" tabindex=\"-1\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h5 class=\"modal-title\" id=\"deleteModalLabel\">Deseas borrar tu cuenta en Vaporbox?</h5>\r\n                        <button type=\"button\" class=\"btn-close-modal\" data-bs-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <p>Una vez que elimines tu cuenta no podrs recuperarla.</p>\r\n                        <div class=\"user-delete-modal text-center\">\r\n                            <p>{{identity.name + ' ' + identity.surname}}<br>\r\n                            {{'@'+identity.nick}}<br>\r\n                            {{identity.bio}}\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Cerrar</button>\r\n                        <button type=\"button\" class=\"btn btn-default\" (click)=\"deleteUser(user._id)\" data-bs-dismiss=\"modal\"><i class=\"fa fa-trash mx-2\"></i>Eliminar cuenta</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","export class User{\r\n    constructor(\r\n        public _id: string,\r\n        public name: string,\r\n        public surname: string,\r\n        public nick: string,\r\n        public email: string,\r\n        public password: string,\r\n        public role: string,\r\n        public image: string,\r\n        public bio: string\r\n    ){} \r\n    \r\n\r\n\r\n}","import { Component, OnInit, AfterViewChecked, ElementRef, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { Message } from '../../models/message';\r\nimport { UserService } from '../../services/user.service';\r\nimport { FollowService } from '../../services/follow.service';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { io } from 'socket.io-client';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-chat',\r\n  templateUrl: './chat.component.html',\r\n  styleUrls: ['./chat.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(500)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, FollowService, MessageService ]\r\n})\r\nexport class ChatComponent implements OnInit, AfterViewChecked {\r\n  @ViewChild('chatScreen') private myScrollContainer: ElementRef;\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public user:User;\r\n  public followers;\r\n  public token;\r\n  public identity;\r\n  public eventName:string;\r\n  public messages: Message[];\r\n  public unviewedMessages: Message[];\r\n  public message: Message;\r\n  public chatname;\r\n  public onlineUsers;\r\n  public loading: boolean;\r\n\r\n  constructor(\r\n    private _route:ActivatedRoute,\r\n    private _router:Router,\r\n    private _userService:UserService,\r\n    private _followService:FollowService,\r\n    private _messageService:MessageService\r\n  ) { \r\n    this.loading = true;\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.getFollows(this.token);\r\n    this.message = new Message('','','','',this.identity._id,'');\r\n    this.onlineUsers = [];\r\n  }\r\n\r\n  ngOnInit(): void {\r\n      this.checkUnviewedMessages();\r\n      this.sockets();\r\n      this.scrollToBottom();\r\n    }\r\n    \r\n    ngAfterViewChecked() {        \r\n      this.scrollToBottom();        \r\n    }\r\n    \r\n  sockets(){  \r\n      this.socket.emit(\"addUser\", this.identity._id);\r\n      this.socket.on(\"getUsers\", users=>{\r\n          this.onlineUsers = users.map(user => user.userId);\r\n      });\r\n      this.socket.on(\"getMessage\", msg =>{\r\n          console.log(msg)\r\n          this.getMessages();\r\n          this.checkUnviewedMessages();\r\n      });\r\n  }\r\n\r\n  onSubmit(form){\r\n    this._messageService.addMessage(this.token, this.message).subscribe(\r\n      response => {         \r\n        this.socket.emit(\"sendMessage\", response.message);\r\n        this.getMessages();\r\n      },\r\n      error =>{\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n    form.reset();\r\n  }\r\n\r\n  getFollows(token:any){\r\n    this._followService.getFollowers(token).subscribe(\r\n      response => {\r\n        if(response.follows){\r\n          this.followers = response.follows;\r\n        }\r\n      },\r\n      error =>{\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  setReceiver(id:any, name:any){\r\n    this.message.receiver = id;\r\n    this.chatname = name;\r\n    //Mensajes del chat entre usuario y 'receiver'\r\n    this.getMessages();\r\n    this.setViewedMessages(); \r\n    this.checkUnviewedMessages();  \r\n  }\r\n  \r\n  getMessages(){ \r\n    this._messageService.getMessages(this.token, this.message.receiver).subscribe(\r\n    response => {\r\n      this.messages = response.messages;\r\n      this.loading = false;\r\n    },\r\n    error =>{\r\n      console.log(<any>error);\r\n    }\r\n  )\r\n  }\r\n\r\n  scrollToBottom(): void {\r\n      try {\r\n          this.myScrollContainer.nativeElement.scrollTop = this.myScrollContainer.nativeElement.scrollHeight;\r\n      } catch(err) { }                 \r\n  }\r\n\r\n  checkUnviewedMessages(){\r\n    this._messageService.getUnviewedMessages(this.token).subscribe(\r\n      response => {\r\n        this.unviewedMessages = response.unviewed.map(msg => msg.emitter).sort();\r\n        this.loading = false;\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  setViewedMessages(){\r\n    this._messageService.setViewedMessages(this.token, this.message).subscribe(\r\n      response => {\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n \r\n}\r\n","<app-loading *ngIf=\"loading\"></app-loading>\r\n<div @fade class=\"chat-container col-xl-12 col-lg-12\" *ngIf=\"!loading\">\r\n    <div class=\"mt-5\">\r\n        <h3 class=\"mb-3 text-center section-title\">Chat</h3>\r\n    </div>\r\n    <div class=\"row\">\r\n        <div class=\"col-xl-5 col-lg-5\" *ngIf=\"followers\">\r\n            <div class=\"subtitle text-center\">\r\n                <h5>Contactos</h5>\r\n            </div>\r\n            <div id=\"followers-list\" *ngIf=\"followers.length > 0\">\r\n                <ul *ngFor=\"let follower of followers\">\r\n                    <li>\r\n                        <a (click)=\"setReceiver(follower.user._id, follower.user.name + ' ' + follower.user.surname)\">\r\n                            <img src=\"{{follower.user.image}}\" *ngIf=\"follower.user.image\">\r\n                            <img src=\"assets/img/default-user.jpg\" *ngIf=\"!follower.user.image\">\r\n                            <i class=\"fa fa-globe\" *ngIf=\"!onlineUsers.includes(follower.user._id)\"></i>\r\n                            <i class=\"fa fa-globe online\" *ngIf=\"onlineUsers.includes(follower.user._id)\"></i>\r\n                            <span>\r\n                                    {{follower.user.name + ' ' + follower.user.surname | truncate:[30, '...']}}\r\n                            </span>\r\n                            <small>{{'@' + follower.user.nick}} </small>\r\n                            <span class=\"pull-right\"\r\n                                *ngIf=\"unviewedMessages && unviewedMessages.includes(follower.user._id)\">\r\n                                <i class=\"fa fa-envelope\"></i>\r\n                            </span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div *ngIf=\"followers.length < 1\" class=\"followers-default text-center\">\r\n                <p>Consegu seguidores para poder chatear!</p>\r\n            </div>\r\n            <div id=\"followers-mobile\">\r\n                <li class=\"dropdown\">\r\n                    <a data-bs-toggle=\"dropdown\" href=\"#\">\r\n                        <div class=\"d-flex selector\">\r\n                            <p *ngIf=\"message.receiver != ''\">Conversacin con {{chatname}}</p>\r\n                            <p *ngIf=\"message.receiver == ''\">Elige alguien para chatear!</p> \r\n                        </div>\r\n                    </a>\r\n                    <ul class=\"dropdown-menu\">\r\n                        <li value=\"follower.user._id\" *ngFor=\"let follower of followers\">\r\n                            <a (click)=\"setReceiver(follower.user._id, follower.user.name + ' ' + follower.user.surname)\">\r\n                                <img src=\"{{follower.user.image}}\" *ngIf=\"follower.user.image\">\r\n                                <img src=\"assets/img/default-user.jpg\" *ngIf=\"!follower.user.image\">\r\n                                <i class=\"fa fa-globe\" *ngIf=\"!onlineUsers.includes(follower.user._id)\"></i>\r\n                                <i class=\"fa fa-globe online\" *ngIf=\"onlineUsers.includes(follower.user._id)\"></i>\r\n                                {{follower.user.name + ' ' + follower.user.surname + ' '}}\r\n                                <span class=\"pull-right\"\r\n                                *ngIf=\"unviewedMessages && unviewedMessages.includes(follower.user._id)\">\r\n                                <i class=\"fa fa-envelope\"></i>\r\n                                </span>\r\n                            </a>\r\n                        </li>\r\n                    </ul>\r\n                </li>\r\n            </div>\r\n        </div>\r\n        <div id=\"chat\" class=\"col-xl-7 col-lg-7\" *ngIf=\"followers\">\r\n            <div class=\"text-center chat-title\">\r\n                <h5 *ngIf=\"message.receiver != ''\">\r\n                    Conversacin con \r\n                    {{chatname}}\r\n                </h5>\r\n                <h5 *ngIf=\"message.receiver == ''\">Elige alguien para chatear!</h5>\r\n            </div>\r\n            <div #chatScreen id=\"chat-screen\">\r\n                <div class=\"d-flex flex-column\">\r\n                    <div id=\"illustration-chat\" *ngIf=\"message.receiver == ''\">\r\n                        <img src=\"assets/img/chat.svg\">\r\n                    </div>\r\n                    <div *ngFor=\"let msg of messages\">\r\n                        <div class=\"received-messages pull-left\" *ngIf=\"msg.emitter._id != identity._id\">\r\n                            <div class=\"d-flex\">\r\n                                <img src=\"{{msg.emitter.image}}\" *ngIf=\"msg.emitter.image\">\r\n                                <img src=\"assets/img/default-user.jpg\" *ngIf=\"!msg.emitter.image\">\r\n                                <p>{{msg.text}}</p>\r\n                            </div>\r\n                            <small class=\"pull-right\">{{ (msg.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo\r\n                                }}</small>\r\n                        </div>\r\n                        <div class=\"sent-messages pull-right\" *ngIf=\"msg.emitter._id === identity._id\">\r\n                            <div class=\"d-flex\">\r\n                                <img src=\"{{msg.emitter.image}}\" *ngIf=\"msg.emitter.image\">\r\n                                <img src=\"assets/img/default-user.jpg\" *ngIf=\"!msg.emitter.image\">\r\n                                <p>{{msg.text}}</p>\r\n                            </div>\r\n                            <small class=\"pull-right\">{{ (msg.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}</small>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <form #formAdd=\"ngForm\" (ngSubmit)=\"onSubmit(formAdd)\">\r\n                <div id=\"chat-input\" class=\"text-center d-flex\">\r\n                    <textarea name=\"text\" #text=\"ngModel\" [(ngModel)]=\"message.text\"\r\n                        placeholder=\"Escribe aqu tu mensaje\" cols=\"30\" rows=\"5\" required>\r\n                    </textarea>\r\n                    <button type=\"submit\" value=\"Enviar\" class=\"btn btn-default\">Enviar</button>\r\n                </div>\r\n            </form>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import { Component, Input, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UploadService } from '../../services/upload.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PublicationService } from '../../services/publication.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { Publication } from '../../models/publication';\r\nimport { io } from 'socket.io-client';\r\n\r\n@Component({\r\n  selector: 'app-saved-publications',\r\n  templateUrl: './saved-publications.component.html',\r\n  styleUrls: ['./saved-publications.component.scss'],\r\n  providers: [ UserService, UploadService, PublicationService, NotificationService ]\r\n})\r\nexport class SavedPublicationsComponent implements OnInit {\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public identity;\r\n  public token;\r\n  public status: string;\r\n  public statusSaved: boolean;\r\n  public statusLiked: boolean;\r\n  public page;\r\n  public total;\r\n  public pages;\r\n  public itemsPerPage;\r\n  public isDisabled: boolean;\r\n  public showMessageSaved: boolean;\r\n  public loading: boolean;\r\n  public savedPublications: Publication[];\r\n  @Input() user:string;\r\n  \r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService,\r\n    private _publicationService: PublicationService,\r\n    private _notificationService: NotificationService\r\n  ) {  \r\n    this.loading = true;\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.page = 1;\r\n\r\n    this.getSavedPublications(this.identity._id, this.page);\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    \r\n  }\r\n\r\n  getSavedPublications(userId, page, adding = false){\r\n    this._publicationService.getSavedPublications(userId, page).subscribe(\r\n      response => {\r\n        if(response.saved_publications){\r\n          this.total = response.total_items;\r\n          this.pages = response.pages;\r\n          this.itemsPerPage = response.items_per_page;\r\n          this.savedPublications = response.saved_publications;\r\n          this.loading = false;\r\n\r\n          if(!adding){\r\n            this.savedPublications = response.saved_publications;\r\n          }else{\r\n            let arrayA = this.savedPublications;\r\n            let arrayB = response.saved_publications;\r\n            this.savedPublications = arrayA.concat(arrayB);\r\n          }         \r\n        }else{\r\n          this.status = 'error';\r\n          this.loading = false;\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n      }\r\n    )\r\n  }\r\n  \r\n  public noMore = false;\r\n  viewMore(){\r\n     this.page += 1;\r\n     if(this.page == this.pages){\r\n         this.noMore = true;\r\n     }\r\n     this.getSavedPublications(this.identity._id, this.page, true);\r\n  }\r\n\r\n  savePublication(publication){\r\n\r\n    if(!publication.saves.includes(this.identity._id)){\r\n      this.showMessageSaved = true;\r\n      setTimeout(()=>{ this.showMessageSaved = false }, 3000)\r\n    }\r\n\r\n    this._publicationService.savePublication(publication).subscribe(\r\n      response => {\r\n        if(response && response.message === \"Saved\"){\r\n          this.statusSaved = true;\r\n          this.isDisabled = true;\r\n          this.getSavedPublications(this.user, this.page);\r\n\r\n        }\r\n        else if(response && response.message === \"Unsaved\"){\r\n          this.statusSaved = false;\r\n          this.isDisabled = true;\r\n          this.getSavedPublications(this.user, this.page);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n  \r\n  likePublication(publication){\r\n\r\n    this._publicationService.likePublication(publication).subscribe(\r\n      response => {\r\n        if(response && response.message === \"Like\"){\r\n          this.statusLiked = true;\r\n          this.isDisabled = true;\r\n          this.getSavedPublications(this.user, this.page);\r\n          this.saveNotification(publication);\r\n        }\r\n        else if(response && response.message === \"Dislike\"){\r\n          this.statusLiked = false;\r\n          this.isDisabled = true;\r\n          this.getSavedPublications(this.user, this.page);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  saveNotification(publication){\r\n    this._notificationService.saveNotification(this.token, publication, 'like-publication').subscribe(\r\n      response => {\r\n        this.socket.emit(\"notificationPublication\", response);\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n}","<app-loading *ngIf=\"loading\"></app-loading>\r\n<div class=\"publications\" *ngIf=\"!loading\">\r\n    <div *ngFor=\"let publication of savedPublications\" class=\"item-publication\">\r\n        <div class=\"card card-default\" *ngIf=\"savedPublications\">\r\n            <div class=\"card-body\">\r\n                <div class=\"image-user pull-left\">\r\n                    <a href=\"#\">\r\n                        <img src=\"{{publication.user.image}}\" alt=\"Imagen de usuario\" *ngIf=\"publication.user.image\">\r\n                        <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!publication.user.image\">\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <span class=\"name-surname\">\r\n                        {{publication.user.name + ' ' + publication.user.surname}}\r\n                    </span>\r\n                    <span class=\"date\">\r\n                            {{ (publication.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}\r\n                    </span><br>\r\n                    <span>\r\n                        {{'@'+ publication.user.nick}}\r\n                    </span>\r\n                </div><br>\r\n                <div class=\"publication-text pull-left\">\r\n                    {{publication.text}}\r\n                </div><br>\r\n                <div class=\"d-flex flex-column justify-content-center\">\r\n                    <div class=\"publication-img d-flex justify-content-center\" *ngIf=\"publication.file != 'null'\">\r\n                        <img src=\"{{publication.file}}\" alt=\"Imagen de publicacin\"/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"likes-save d-flex justify-content-around\">\r\n                    <div (click)=\"likePublication(publication)\">\r\n                        <i class=\"fa fa-thumbs-up like\" *ngIf=\"publication.likes.includes(identity._id)\"></i>\r\n                        <i class=\"fa fa-thumbs-up dislike\" *ngIf=\"!publication.likes.includes(identity._id)\"></i>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length < 1\"></span>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length === 1\">Le gusta a {{publication.likes.length}} persona</span>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length > 1\">Le gusta a {{publication.likes.length}} personas</span>\r\n                    </div>\r\n                    <div (click)=\"savePublication(publication)\">\r\n                        <i class=\"fa fa-bookmark saved\" *ngIf=\"publication.saves.includes(identity._id)\"></i>\r\n                        <i class=\"fa fa-bookmark unsaved\" *ngIf=\"!publication.saves.includes(identity._id)\"></i><br>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>   \r\n    </div>\r\n    <div class=\"text-center mb-5\">\r\n        <button class=\"btn btn-sm btn-default \"\r\n        (click)=\"viewMore()\"\r\n        *ngIf=\"noMore\">\r\n            Ver ms\r\n        </button>\r\n    </div>\r\n    <div class=\"text-center mt-3\" *ngIf=\"savedPublications && savedPublications.length < 1\">\r\n        <p>No hay publicaciones para mostrar</p>\r\n    </div>\r\n</div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, OnInit, Input } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UploadService } from '../../services/upload.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PublicationService } from '../../services/publication.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { Publication } from '../../models/publication';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\nimport { io } from 'socket.io-client';\r\n\r\n@Component({\r\n  selector: 'app-publications',\r\n  templateUrl: './publications.component.html',\r\n  styleUrls: ['./publications.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(500)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, UploadService, PublicationService, NotificationService ]\r\n})\r\nexport class PublicationsComponent implements OnInit {\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public identity;\r\n  public token;\r\n  public status: string;\r\n  public statusSaved: boolean;\r\n  public statusLiked: boolean;\r\n  public page;\r\n  public total;\r\n  public pages;\r\n  public itemsPerPage;\r\n  public publications: Publication[];\r\n  public isDisabled: boolean;\r\n  public showMessageSaved: boolean;\r\n  public loading: boolean;\r\n  @Input() user:string;\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService,\r\n    private _publicationService: PublicationService,\r\n    private _notificationService: NotificationService\r\n  ) {  \r\n    this.loading = true;\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.page = 1;\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.getPublications(this.user, this.page);\r\n  }\r\n\r\n  getPublications(user, page, adding = false){\r\n    this._publicationService.getPublicationsUser(this.token, user, page).subscribe(\r\n      response => {\r\n        if(response.publications){\r\n          this.total = response.total_items;\r\n          this.pages = response.pages;\r\n          this.itemsPerPage = response.items_per_page;\r\n          this.loading = false;\r\n          if(!adding){\r\n            this.publications = response.publications;\r\n          }else{\r\n            let arrayA = this.publications;\r\n            let arrayB = response.publications;\r\n\r\n            this.publications = arrayA.concat(arrayB);\r\n          }\r\n          \r\n        }else{\r\n          this.status = 'error';\r\n          this.loading = false;\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n            this.loading = false;\r\n          }\r\n      }\r\n    )\r\n  }\r\n  \r\n  public noMore = false;\r\n  viewMore(){\r\n     this.page += 1;\r\n     if(this.page == this.pages){\r\n         this.noMore = true;\r\n     }\r\n     this.getPublications(this.user, this.page, true);\r\n  }\r\n\r\n  refresh(event = null){\r\n    this.page = 1\r\n    this.isDisabled = false;\r\n    this.getPublications(this.user, this.page);\r\n  }\r\n  \r\n\r\n  deletePublication(id){\r\n    this._publicationService.deletePublication(this.token, id).subscribe(\r\n      response => {\r\n        this.isDisabled = false;\r\n        this.refresh();\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n  savePublication(publication){\r\n\r\n    if(!publication.saves.includes(this.identity._id)){\r\n      this.showMessageSaved = true;\r\n      setTimeout(()=>{ this.showMessageSaved = false }, 3000)\r\n    }\r\n\r\n    this._publicationService.savePublication(publication).subscribe(\r\n      response => {\r\n        if(response && response.message === \"Saved\"){\r\n          this.statusSaved = true;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.user, this.page);\r\n\r\n        }\r\n        else if(response && response.message === \"Unsaved\"){\r\n          this.statusSaved = false;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.user, this.page);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n  \r\n  likePublication(publication){\r\n\r\n    this._publicationService.likePublication(publication).subscribe(\r\n      response => {\r\n        if(response && response.message === \"Like\"){\r\n          this.statusLiked = true;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.user, this.page);\r\n          this.saveNotification(publication);\r\n        }\r\n        else if(response && response.message === \"Dislike\"){\r\n          this.statusLiked = false;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.user, this.page);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  saveNotification(publication){\r\n    this._notificationService.saveNotification(this.token, publication, 'like-publication').subscribe(\r\n      response => {\r\n        this.socket.emit(\"notificationPublication\", response)\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n}\r\n\r\n","<app-loading *ngIf=\"loading\"></app-loading>\r\n<div class=\"publications\" *ngIf=\"!loading\">\r\n    <div *ngFor=\"let publication of publications\" class=\"item-publication\">\r\n        <div class=\"card card-default\">\r\n            <div class=\"card-body\">\r\n                <div class=\"image-user pull-left\">\r\n                    <a href=\"#\">\r\n                        <img src=\"{{publication.user.image}}\" alt=\"Imagen de usuario\" *ngIf=\"publication.user.image\">\r\n                        <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!publication.user.image\">\r\n                    </a>\r\n                </div>\r\n                <div>\r\n                    <div class=\"pull-right\" *ngIf=\"publication.user._id == identity._id\">\r\n                        <button id=\"{{publication._id}}\" type=\"button\" data-bs-toggle=\"modal\" [attr.data-bs-target]=\"'#deleteModal'+publication._id\" class=\"btn\"><i class=\"fa fa-close\"></i></button>\r\n                    </div>\r\n\r\n                        <!-- Modal -->\r\n                        <div class=\"modal fade\" [id]=\"'deleteModal'+publication._id\" tabindex=\"-1\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n                            <div class=\"modal-dialog\">\r\n                                <div class=\"modal-content\">\r\n                                    <div class=\"modal-header\">\r\n                                        <h5 class=\"modal-title\" id=\"deleteModalLabel\">Deseas borrar esta publicacin?</h5>\r\n                                        <button type=\"button\" class=\"btn-close-modal\" data-bs-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></button>\r\n                                    </div>\r\n                                    <div class=\"modal-body\">\r\n                                        <p>Una vez que borres esta publicacin no podrs recuperarla.</p>\r\n                                        <div class=\"publication-modal\">\r\n                                            {{publication.text}}\r\n                                        </div><br>\r\n                                        <div class=\"publication-img-modal\" *ngIf=\"publication.file != 'null'\">\r\n                                            <img src=\"{{publication.file}}\" alt=\"Imagen de publicacin\"/>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class=\"modal-footer\">\r\n                                        <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Cerrar</button>\r\n                                        <button type=\"button\" class=\"btn btn-default\" (click)=\"deletePublication(publication._id)\" data-bs-dismiss=\"modal\"><i class=\"fa fa-trash mx-2\"></i>Borrar publicacin</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    <a [routerLink]=\"['/profile', publication.user._id]\" class=\"name-surname\">\r\n                            {{publication.user.name + ' ' + publication.user.surname}}\r\n                    </a>\r\n                    <span class=\"date\">\r\n                            {{ (publication.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}\r\n                    </span><br>\r\n                    <span>\r\n                        {{'@'+ publication.user.nick}}\r\n                    </span>\r\n                </div><br>\r\n                <div class=\"publication-text pull-left\">\r\n                    {{publication.text}}\r\n                </div><br>\r\n                <div class=\"d-flex flex-column justify-content-center\">\r\n                    <div class=\"publication-img d-flex justify-content-center\" *ngIf=\"publication.file != 'null'\">\r\n                        <img src=\"{{publication.file}}\" alt=\"Imagen de publicacin\"/>\r\n                    </div>\r\n                </div>\r\n                <div class=\"likes-save d-flex justify-content-around\">\r\n                    <div (click)=\"likePublication(publication)\">\r\n                        <i class=\"fa fa-thumbs-up like\" *ngIf=\"publication.likes.includes(identity._id)\"></i>\r\n                        <i class=\"fa fa-thumbs-up dislike\" *ngIf=\"!publication.likes.includes(identity._id)\"></i>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length < 1\"></span>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length === 1\">Le gusta a {{publication.likes.length}} persona</span>\r\n                        <span class=\"likes-number\" *ngIf=\"publication.likes.length > 1\">Le gusta a {{publication.likes.length}} personas</span>\r\n                    </div>\r\n                    <div (click)=\"savePublication(publication)\">\r\n                        <i class=\"fa fa-bookmark saved\" *ngIf=\"publication.saves.includes(identity._id)\"></i>\r\n                        <i class=\"fa fa-bookmark unsaved\" *ngIf=\"!publication.saves.includes(identity._id)\"></i><br>        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>   \r\n    </div>\r\n    <div @fade class=\"message-saved text-center\" *ngIf='showMessageSaved'>\r\n        <span>Pods encontrar las publicaciones guardadas en tu <a [routerLink]=\"['/profile', identity._id]\">perfil</a></span>\r\n    </div> \r\n    <div class=\"text-center mb-5\" *ngIf=\"publications && publications.length\">\r\n        <button class=\"btn btn-sm btn-default \"\r\n        (click)=\"viewMore()\"\r\n        *ngIf=\"noMore\">\r\n            Ver ms\r\n        </button>\r\n    </div>\r\n    <div class=\"text-center mt-3\" *ngIf=\"publications && publications.length < 1\">\r\n        <p>No hay publicaciones para mostrar</p>\r\n    </div>\r\n</div>","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { User } from '../models/user';\r\n\r\n@Pipe({\r\n  name: 'filter'\r\n})\r\nexport class FilterPipe implements PipeTransform {\r\n\r\n  transform(users: User[], input: string){\r\n    if (!input) return users;\r\n    return users.filter(val => this.filterBy(val, input));\r\n  }\r\n\r\n  private filterBy(user: User, search: string){\r\n    const reduced = Object.keys(user)\r\n      .reduce((prev, current) => this.reduceKeys(prev, current, user), \"\")\r\n      .toLocaleLowerCase();\r\n    return reduced.indexOf(search.toLocaleLowerCase()) > -1;\r\n  }\r\n\r\n  private reduceKeys(\r\n    prev: string,\r\n    current: string,\r\n    user: User\r\n  ): string {\r\n    if (this.isProp(current)) {\r\n      prev = `${prev}\\$${user[current]}`;\r\n    }\r\n    return prev;\r\n  }\r\n\r\n  private isProp(key: string): boolean {\r\n    return key.includes(\"name\") || key.includes(\"surname\") || key.includes(\"nick\");\r\n  }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { Follow } from '../../models/follow';\r\nimport { UserService } from '../../services/user.service';\r\nimport { FollowService } from '../../services/follow.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-profile',\r\n  templateUrl: './profile.component.html',\r\n  styleUrls: ['./profile.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, FollowService, NotificationService ]\r\n})\r\nexport class ProfileComponent implements OnInit {\r\n  public user: User;\r\n  public status:string;\r\n  public identity;\r\n  public token;\r\n  public stats;\r\n  public url;\r\n  public following;\r\n  public followed;\r\n  public savedPublications;\r\n  public isSaved:boolean;\r\n  public mobile:boolean;\r\n  public loading:boolean;\r\n\r\n  constructor(\r\n    private _route:ActivatedRoute,\r\n    private _router:Router,\r\n    private _userService:UserService,\r\n    private _followService:FollowService,\r\n    private _notificationService:NotificationService\r\n  ) { \r\n    this.loading = true;\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.followed = false;\r\n    this.following = false;\r\n    this.savedPublications = false;\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    this.loadPage();\r\n    if (window.screen.width <= 992) { \r\n      this.mobile = true;\r\n    }else{\r\n      this.mobile = false;\r\n    }\r\n  }\r\n\r\n  loadPage(){\r\n    this._route.params.subscribe( params =>{\r\n      let id = params[ 'id' ];\r\n\r\n      this.getUser(id);\r\n      this.getCounters(id);\r\n    });\r\n  }\r\n\r\n  getUser(id){\r\n    this._userService.getUser(id).subscribe(\r\n      response => { \r\n        if(response.user){\r\n          this.user = response.user;\r\n          if(response && response.following && response.following._id){\r\n            this.following = true;\r\n          }else{\r\n            this.following = false;\r\n          }\r\n\r\n          if(response && response.followed && response.followed._id){\r\n            this.followed = true;\r\n          }else{\r\n            this.followed = false;\r\n          }\r\n          this.loading = false;\r\n        }else{\r\n          this.status = 'error';\r\n          this.loading = false;\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n        this._router.navigate([ '/profile', this.identity._id ]);\r\n      }\r\n    )\r\n  }\r\n\r\n  getCounters(id){\r\n    this._userService.getCounters(id).subscribe(\r\n      response => {\r\n        this.stats = response;\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  followUser(followed, user){\r\n    let follow = new Follow('', this.identity._id, followed);\r\n\r\n    this._followService.addFollow(this.token, follow).subscribe(\r\n      response => {\r\n        this.following = true;\r\n        this.saveNotification(user);\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  unfollowUser(followed){\r\n    this._followService.deleteFollow(this.token, followed).subscribe(\r\n      response => {\r\n        this.following = false;\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  public followUserOver;\r\n  mouseEnter(user_id){\r\n    this.followUserOver = user_id;\r\n  }\r\n\r\n  mouseLeave(){\r\n    this.followUserOver = 0;\r\n  }\r\n\r\n  showSavedPublications(){\r\n     if(!this.savedPublications){\r\n        this.savedPublications = true;\r\n     }else{\r\n        this.savedPublications = false;\r\n     }\r\n  }\r\n\r\n  saveNotification(follower){\r\n    this._notificationService.saveNotification(this.token, follower, 'new-follow').subscribe(\r\n      response => {\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<app-loading *ngIf=\"loading\"></app-loading>\r\n<div @fade class=\"row profile-container\" *ngIf=\"!loading\">\r\n    <div class=\"mb-2 mt-5 profile-info\" *ngIf=\"user\">\r\n        <div class=\"user-image\">\r\n            <img src=\"{{ user.image }}\" alt=\"Foto de perfil\" *ngIf=\"user.image\"/>\r\n            <img class=\"default-image-user\" src=\"assets/img/default-user.jpg\" alt=\"Foto de perfil\" *ngIf=\"!user.image\"/>\r\n        </div>\r\n        <div class=\"mb-2 mt-3 text-center\">\r\n            <h3 class=\"text-center section-title\">{{user.name + ' ' + user.surname}}</h3>\r\n        </div>\r\n        <div class=\"d-flex flex-column text-center\">\r\n            <h5>{{'@'+user.nick}}</h5>\r\n            <p *ngIf=\"user.bio\">{{user.bio}}</p>\r\n            <div class=\"follow d-flex justify-content-center\">\r\n                <div class=\"label label-default\" *ngIf=\"followed\">\r\n                    <small>\r\n                        Te sigue\r\n                    </small>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"mt-3 text-center\">\r\n            <button class=\"btn btn-default\" *ngIf=\"!following && user._id != identity._id\" (click)=\"followUser(user._id, user)\"><i class=\"fa fa-user-plus\"></i>Seguir</button>\r\n            <button class=\"btn btn-primary\" \r\n                *ngIf=\"following\" \r\n                (click)=\"unfollowUser(user._id)\"\r\n                (mouseenter)=\"mouseEnter(user._id)\"\r\n                (mouseleave)=\"mouseLeave()\"                \r\n                >\r\n                    <span class=\"unfollow\" *ngIf=\"user._id == followUserOver && !mobile; else following\">\r\n                        <i class=\"fa fa-user-times\"></i>\r\n                        Dejar de seguir\r\n                    </span>\r\n                    <ng-template #following>\r\n                        <i class=\"fa fa-check\"></i>\r\n                        Siguiendo\r\n                    </ng-template>\r\n            </button>\r\n            <button class=\"btn btn-sm btn-light\" [routerLink]=\"['/user-edit']\" *ngIf=\"identity._id == user._id\">Editar perfil</button>\r\n        </div>\r\n        <div class=\"stats d-flex justify-content-around text-center\" *ngIf=\"stats\">\r\n            <div class=\"following-data\">\r\n                <a [routerLink]=\"['/following', user._id, 1]\">\r\n                    <span class=\"label-stats\">\r\n                        Siguiendo\r\n                    </span><br>\r\n                    <span class=\"number-stats\">\r\n                        {{ stats.following }}\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class=\"following-data\">\r\n                <a [routerLink]=\"['/followers', user._id, 1]\">\r\n                    <span class=\"label-stats\">\r\n                        Seguidores\r\n                    </span><br>\r\n                    <span class=\"number-stats\">\r\n                        {{ stats.followed }}\r\n                    </span>\r\n                </a>\r\n            </div>\r\n            <div class=\"following-data following-data-publications\">\r\n                <a href=\"#\">\r\n                        <span class=\"label-stats\">\r\n                            Publicaciones\r\n                        </span><br>\r\n                        <span class=\"number-stats\" *ngIf=\"stats.publications\">\r\n                            {{ stats.publications }}\r\n                        </span>\r\n                        <span class=\"number-stats\" *ngIf=\"!stats.publications\">\r\n                            0\r\n                        </span>\r\n                </a>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"col-xl-10 col-lg-10 offset-xl-1 offset-lg-1\" *ngIf=\"user\">\r\n        <div class=\"col-lg-6 offset-lg-3 form-check form-switch d-flex justify-content-center mb-3\">\r\n            <div *ngIf=\"user._id === identity._id\">\r\n                <input \r\n                        class=\"form-check-input mx-3\" \r\n                        type=\"checkbox\" \r\n                        id=\"flexSwitchCheckDefault\"\r\n                        (change)=\"showSavedPublications()\"\r\n                        >\r\n                <label>\r\n                    <strong *ngIf=\"savedPublications\">Guardadas</strong>\r\n                    <strong *ngIf=\"!savedPublications\">Mis publicaciones</strong>\r\n                </label>\r\n            </div>\r\n            <div *ngIf=\"user._id !== identity._id\">\r\n                <label><strong>Publicaciones de {{user.name}}</strong></label>\r\n            </div>\r\n        </div>\r\n        <app-publications *ngIf=\"!savedPublications\" [user]=\"user._id\"></app-publications>\r\n        <app-saved-publications *ngIf=\"savedPublications\" [user]=\"user._id\"></app-saved-publications>\r\n    </div>\r\n</div>","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate } from '@angular/router';\r\nimport { UserService } from './user.service';\r\n\r\n@Injectable()\r\nexport class UserGuard implements CanActivate{\r\n    \r\n    constructor(\r\n        private _router:Router,\r\n        private _userService:UserService\r\n    ){\r\n\r\n    }\r\n\r\n    canActivate(){\r\n         let identity = this._userService.getIdentity();\r\n         \r\n         if(identity && (identity.role == 'ROLE_USER' || identity.role == 'ROLE_ADMIN')){\r\n             return true;\r\n         }else{\r\n             this._router.navigate(['/login']);\r\n             return false;\r\n         }\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { Follow } from '../../models/follow';\r\nimport { UserService } from '../../services/user.service';\r\nimport { FollowService } from '../../services/follow.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-users',\r\n  templateUrl: './users.component.html',\r\n  styleUrls: ['./users.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, FollowService, NotificationService ]\r\n})\r\nexport class UsersComponent implements OnInit {\r\n  public identity;\r\n  public token;\r\n  public page;\r\n  public next_page;\r\n  public prev_page;\r\n  public total;\r\n  public pages;\r\n  public users: User[];\r\n  public status:string;\r\n  public follows;\r\n  public followMouseOver;\r\n  public searchText = '';\r\n  public mobile:boolean;\r\n  public loading: boolean;\r\n\r\n\r\n  constructor(  private _route:ActivatedRoute,\r\n                private _router:Router,\r\n                private _userService:UserService,\r\n                private _followService:FollowService,\r\n                private _notificationService: NotificationService\r\n              ) \r\n    { \r\n      this.loading = true;\r\n      this.identity = this._userService.getIdentity();\r\n      this.token = this._userService.getToken();\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.actualPage();\r\n    if (window.screen.width <= 992) { \r\n      this.mobile = true;\r\n    }else{\r\n      this.mobile = false;\r\n    }\r\n  }\r\n\r\n  actualPage(){\r\n    this._route.params.subscribe(params=>{\r\n      let page = params['page'];\r\n      this.page = page;\r\n\r\n      if(!params['page'] || page == undefined){\r\n        page = 1;\r\n      }\r\n\r\n      if(!page){\r\n        page = 1\r\n      }else{\r\n        \r\n        this.next_page = parseInt(page) + 1;\r\n        this.prev_page = parseInt(page) - 1;\r\n        if(this.prev_page <= 0){\r\n            this.prev_page = 1;\r\n        }\r\n      }\r\n        \r\n      //Devolver listado de usuarios\r\n      this.getUsers( page );\r\n    });\r\n  }\r\n\r\n  getUsers( page:any ){\r\n    this._userService.getUsers(page).subscribe(\r\n      response => {\r\n        if(!response.users){\r\n          this.status = \"error\";\r\n        }else{\r\n          this.loading = false;\r\n          this.total = response.total;\r\n          this.users = response.users;\r\n          this.pages = response.pages;\r\n          this.follows = response.users_following;       \r\n\r\n          if(page > this.pages){\r\n            this._router.navigate(['/users/', 1])\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if(errorMessage != null){\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  mouseEnter(user_id){\r\n      this.followMouseOver = user_id;\r\n  }\r\n\r\n  mouseLeave(user_id){\r\n    this.followMouseOver = 0;\r\n  }\r\n\r\n  followUser(followed, user){\r\n    let follow = new Follow('', this.identity._id, followed);\r\n\r\n    this._followService.addFollow(this.token, follow).subscribe(\r\n        response=>{\r\n          if(response.followStored){\r\n            this.status = 'error'\r\n          }else{\r\n            this.status = 'success';\r\n            this.follows.push(followed);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n          this.saveNotification(user);\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  unfollowUser(followed){\r\n    this._followService.deleteFollow(this.token, followed).subscribe(\r\n        response=>{\r\n          let search = this.follows.indexOf(followed);\r\n          if(search != -1){\r\n            this.follows.splice(search, 1);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  getCounters(){\r\n    this._userService.getCounters().subscribe(\r\n        response =>{\r\n            localStorage.setItem('stats', JSON.stringify(response));\r\n            this.status = 'success';\r\n \r\n        }, \r\n        error=>{\r\n            console.log(error);\r\n        }\r\n        \r\n    )\r\n  }\r\n\r\n  saveNotification(follower){\r\n    this._notificationService.saveNotification(this.token, follower, 'new-follow').subscribe(\r\n      response => {},\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n}\r\n","<div @fade class=\"users-container col-xl-12 col-lg-12\">\r\n    <div class=\"mt-5 d-flex flex-column justify-content-center\" *ngIf=\"loading\">\r\n        <app-loading></app-loading>\r\n    </div>\r\n    <div class=\"mt-5 d-flex flex-column justify-content-center\" *ngIf=\"!loading\">\r\n        <h3 class=\"mb-3 text-center section-title\">Gente</h3>\r\n        <div class=\"searchInput\">\r\n            <input #searchInput [(ngModel)]=\"searchText\" placeholder=\"Buscar...\" type=\"text\">\r\n            <i class=\"fa fa-search\"></i>\r\n        </div>\r\n        <div class=\"people mt-3\">\r\n            <div *ngFor=\"let user of users | filter: searchText\" class=\"item-user d-flex justify-content-center\">\r\n                <div *ngIf=\"user\" class=\"card card-default mb-3\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"image-user pull-left\">\r\n                            <a [routerLink]=\"['/profile/',user._id]\">\r\n                                <img src=\"{{user.image}}\" alt=\"Imagen de usuario\" *ngIf=\"user.image\">\r\n                                <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!user.image\">\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"user-name\">\r\n                            <p><a [routerLink]=\"['/profile/',user._id]\">{{user.name + ' ' + user.surname}}</a></p>\r\n                            <p class=\"username\"><small>{{'@'+user.nick}}</small></p>\r\n                            <p class=\"bio\" *ngIf=\"user.bio\">{{user.bio}}</p>\r\n                        </div>\r\n                        <!--seguir y dejar de seguir-->\r\n                        <div class=\"pull-right\" *ngIf=\"user._id != identity._id\">\r\n                            \r\n                            <button class=\"btn btn-default\" \r\n                            *ngIf=\"follows.indexOf(user._id) < 0\"\r\n                            (click)=\"followUser(user._id, user)\">\r\n                                <i class=\"fa fa-user-plus\"></i><span class=\"button-text\">Seguir</span>\r\n                            </button>\r\n    \r\n                            <button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(user._id) >= 0\"\r\n                                (mouseenter)=\"mouseEnter(user._id)\"\r\n                                (mouseleave)=\"mouseLeave(user._id)\"\r\n                                (click)=\"unfollowUser(user._id)\"\r\n                                >\r\n                                <span *ngIf=\"user._id == followMouseOver && !mobile; else following\">\r\n                                    <i class=\"fa fa-user-times\"></i><span class=\"button-text\">Dejar de seguir</span>\r\n                                </span>\r\n                                <ng-template #following>\r\n                                    <i class=\"fa fa-check\"></i><span class=\"button-text\">Siguiendo</span>\r\n                                </ng-template>\r\n                                \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--Paginacin-->\r\n        <div class=\"d-flex justify-content-center\">\r\n            <ul class=\"pagination\">\r\n                <li *ngIf=\"page > 1\"><a [routerLink]=\"['/users', prev_page]\" class=\"btn btn-sm btn-default\">Anterior</a></li>\r\n                <li *ngIf=\"pages != page && pages > 1\"><a [routerLink]=\"['/users', next_page]\" class=\"btn btn-sm btn-default\">Siguiente</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","export class Publication{\r\n    constructor(\r\n        public _id:string,\r\n        public text:string,\r\n        public file:string,\r\n        public created_at:string,\r\n        public user:any,\r\n        public saves:any[],\r\n        public likes:any[]\r\n    ){}\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { UploadService } from '../../services/upload.service';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PublicationService } from '../../services/publication.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { Publication } from '../../models/publication';\r\nimport { io } from 'socket.io-client';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-timeline',\r\n  templateUrl: './timeline.component.html',\r\n  styleUrls: ['./timeline.component.scss'],\r\n  animations: [\r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n  ],\r\n  providers: [UserService, UploadService, PublicationService, NotificationService]\r\n})\r\nexport class TimelineComponent implements OnInit {\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public identity;\r\n  public token;\r\n  public status: string;\r\n  public stats;\r\n  public statusSaved: boolean;\r\n  public statusLiked: boolean;\r\n  public page;\r\n  public total;\r\n  public pages;\r\n  public itemsPerPage;\r\n  public publications: Publication[];\r\n  public isDisabled: boolean;\r\n  public showMessageSaved: boolean;\r\n  public loading: boolean;\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService,\r\n    private _publicationService: PublicationService,\r\n    private _notificationService: NotificationService\r\n  ) {\r\n    this.loading = true;\r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.page = 1;\r\n    this.isDisabled = false;\r\n    this.showMessageSaved = false;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n      this.getPublications(this.page);\r\n  }\r\n\r\n  getPublications(page?, adding = false) {\r\n    this._publicationService.getPublications(this.token, page).subscribe(\r\n      response => {\r\n        if (response.publications) {\r\n          this.total = response.total_items;\r\n          this.pages = response.pages;\r\n          this.itemsPerPage = response.items_per_page;\r\n          this.loading = false;\r\n          if (!adding) {\r\n            this.publications = response.publications;\r\n          } else {\r\n            let arrayA = this.publications;\r\n            let arrayB = response.publications;\r\n\r\n            this.publications = arrayA.concat(arrayB);\r\n          }\r\n        } else {\r\n          this.status = 'error';\r\n          this.loading = false;\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if (errorMessage != null) {\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  public noMore = false;\r\n  viewMore() {\r\n    this.page += 1;\r\n    if (this.page == this.pages) {\r\n      this.noMore = true;\r\n    }\r\n    this.getPublications(this.page, true);\r\n  }\r\n\r\n  refresh(event = null) {\r\n    this.page = 1\r\n    this.isDisabled = false;\r\n    this.getPublications(this.page);\r\n  }\r\n\r\n  deletePublication(id) {\r\n    this._publicationService.deletePublication(this.token, id).subscribe(\r\n      response => {\r\n        this.isDisabled = false;\r\n        this.getCounters();\r\n        this.refresh();\r\n        this.deleteNotification(id);\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  savePublication(publication) {\r\n\r\n    if (!publication.saves.includes(this.identity._id)) {\r\n      this.showMessageSaved = true;\r\n      setTimeout(() => { this.showMessageSaved = false }, 3000)\r\n    }\r\n\r\n    this._publicationService.savePublication(publication).subscribe(\r\n      response => {\r\n        if (response && response.message === \"Saved\") {\r\n          this.statusSaved = true;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.page);\r\n        }\r\n        else if (response && response.message === \"Unsaved\") {\r\n          this.statusSaved = false;\r\n          this.isDisabled = true;\r\n          this.getPublications(this.page);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  likePublication(publication) {\r\n    this._publicationService.likePublication(publication).subscribe(\r\n      response => {\r\n        if (response && response.message === \"Like\") {\r\n          this.statusLiked = true;\r\n          this.isDisabled = true;\r\n          this.getPublications(publication);\r\n          this.saveNotification(publication);\r\n        }\r\n        else if (response && response.message === \"Dislike\") {\r\n          this.statusLiked = false;\r\n          this.isDisabled = true;\r\n          this.getPublications(publication);\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n  getCounters() {\r\n    this._userService.getCounters().subscribe(\r\n      response => {\r\n        localStorage.setItem('stats', JSON.stringify(response));\r\n        this.status = 'success';\r\n        this._router.navigate(['/timeline']);\r\n        this.stats = this._userService.getStats();\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  saveNotification(publication) {\r\n    this._notificationService.saveNotification(this.token, publication, 'like-publication').subscribe(\r\n      response => {\r\n        this.socket.emit(\"notificationPublication\", response);\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n  deleteNotification(id) {\r\n    this._notificationService.deleteNotification(this.token, id).subscribe(\r\n      response => { },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n\r\n}\r\n","<div class=\"timeline-container row\">\r\n    <div class=\"mt-5 col-xl-8 col-lg-8 col-md-8 offset-lg-0 offset-md-2 d-flex justify-content-center\" *ngIf=\"loading\">\r\n        <app-loading></app-loading>\r\n    </div>\r\n    <div class=\"mt-5 col-xl-8 col-lg-8 col-md-8 offset-lg-0 offset-md-2\" *ngIf=\"!loading\">\r\n        <h3 class=\"text-center section-title\">Inicio</h3>\r\n        <div class=\"text-center\">\r\n            <button class=\"btn btn-sm btn-info\" (click)=\"refresh($event)\">Mostrar nuevas</button><br>\r\n        </div>\r\n        <div class=\"publications\">\r\n            <div class=\"text-center mt-5\" *ngIf=\"publications && publications.length < 1\">\r\n                <p>No hay publicaciones para mostrar,<br> sigue algunos usuarios para ver sus publicaciones! <br><br>\r\n                    Pods encontrar otros usuarios <a [routerLink]=\"['/users']\">aqu</a></p>\r\n            </div>\r\n            <div *ngFor=\"let publication of publications\" class=\"item-publication\">\r\n                <div [@.disabled]=\"isDisabled\" class=\"card card-default\" *ngIf=\"publications\">\r\n                    <div @fade class=\"card-body\">\r\n                        <div class=\"image-user pull-left\">\r\n                            <a href=\"#\">\r\n                                <img src=\"{{publication.user.image}}\" alt=\"Imagen de usuario\" *ngIf=\"publication.user.image\">\r\n                                <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!publication.user.image\">\r\n                            </a>\r\n                        </div>\r\n                        <div>\r\n                            <div class=\"pull-right\" *ngIf=\"publication.user._id == identity._id\">\r\n                                <button id=\"{{publication._id}}\" type=\"button\" data-bs-toggle=\"modal\" [attr.data-bs-target]=\"'#deleteModal'+publication._id\" class=\"btn\"><i class=\"fa fa-close\"></i></button>\r\n                            </div>\r\n    \r\n                                <!-- Modal -->\r\n                                <div class=\"modal fade\" [id]=\"'deleteModal'+publication._id\" tabindex=\"-1\" aria-labelledby=\"deleteModalLabel\" aria-hidden=\"true\">\r\n                                    <div class=\"modal-dialog\">\r\n                                        <div class=\"modal-content\">\r\n                                            <div class=\"modal-header\">\r\n                                                <h5 class=\"modal-title\" id=\"deleteModalLabel\">Deseas borrar esta publicacin?</h5>\r\n                                                <button type=\"button\" class=\"btn-close-modal\" data-bs-dismiss=\"modal\" aria-label=\"Close\"><i class=\"fa fa-close\"></i></button>\r\n                                            </div>\r\n                                            <div class=\"modal-body\">\r\n                                                <p>Una vez que borres esta publicacin no podrs recuperarla.</p>\r\n                                                <div class=\"publication-modal\">\r\n                                                    {{publication.text}}\r\n                                                </div><br>\r\n                                                <div class=\"publication-img-modal\" *ngIf=\"publication.file != 'null'\">\r\n                                                    <img src=\"{{publication.file}}\" alt=\"Imagen de publicacin\"/>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"modal-footer\">\r\n                                                <button type=\"button\" class=\"btn btn-light\" data-bs-dismiss=\"modal\">Cerrar</button>\r\n                                                <button type=\"button\" class=\"btn btn-default\" (click)=\"deletePublication(publication._id)\" data-bs-dismiss=\"modal\"><i class=\"fa fa-trash mx-2\"></i>Borrar</button>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n    \r\n                            <a [routerLink]=\"['/profile', publication.user._id]\" class=\"name-surname\">\r\n                                    {{publication.user.name + ' ' + publication.user.surname}}\r\n                            </a>\r\n                            <span>\r\n                                {{'@'+publication.user.nick}}\r\n                            </span><br>\r\n                            <span class=\"date\">\r\n                                {{ (publication.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}\r\n                            </span>\r\n                        </div><br>\r\n                        <div class=\"publication-text pull-left\">\r\n                            {{publication.text}}\r\n                        </div><br>\r\n                        <div class=\"publication-img d-flex justify-content-center\" *ngIf=\"publication.file != 'null'\">\r\n                            <img src=\"{{publication.file}}\" alt=\"Imagen de publicacin\"/>\r\n                        </div>\r\n                        <div class=\"likes-save d-flex justify-content-around\">\r\n                            <div (click)=\"likePublication(publication)\">\r\n                                <i class=\"fa fa-thumbs-up like\" *ngIf=\"publication.likes.includes(identity._id)\"></i>\r\n                                <i class=\"fa fa-thumbs-up dislike\" *ngIf=\"!publication.likes.includes(identity._id)\"></i>\r\n                                <span class=\"likes-number\" *ngIf=\"publication.likes.length < 1\"></span>\r\n                                <span class=\"likes-number\" *ngIf=\"publication.likes.length === 1\">Le gusta a {{publication.likes.length}} persona</span>\r\n                                <span class=\"likes-number\" *ngIf=\"publication.likes.length > 1\">Le gusta a {{publication.likes.length}} personas</span>\r\n                            </div>\r\n                            <div (click)=\"savePublication(publication)\">\r\n                                <i class=\"fa fa-bookmark saved\" *ngIf=\"publication.saves.includes(identity._id)\"></i>\r\n                                <i class=\"fa fa-bookmark unsaved\" *ngIf=\"!publication.saves.includes(identity._id)\"></i><br>        \r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div @fade class=\"message-saved text-center\" *ngIf='showMessageSaved'>\r\n                <span>Pods encontrar las publicaciones guardadas en tu <a [routerLink]=\"['/profile', identity._id]\">perfil</a></span>\r\n            </div> \r\n            <div class=\"text-center mb-5\" *ngIf=\"publications && publications.length\">\r\n                <button class=\"btn btn-sm btn-default\"\r\n                (click)=\"viewMore()\"\r\n                *ngIf=\"noMore\">\r\n                    Ver ms\r\n                </button>\r\n            </div>\r\n        </div>  \r\n    </div>\r\n    <div class=\"mt-5 col-xl-4 col-lg-4 col-sm-8\" >\r\n        <app-sidebar (sent)=\"refresh($event)\"></app-sidebar>\r\n    </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class FollowService{\r\n\r\n    constructor(private _http: HttpClient){\r\n    }\r\n\r\n    addFollow(token, follow):Observable<any>{\r\n        let params = JSON.stringify(follow);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.post('api/follow', params, {headers: headers});\r\n    }\r\n\r\n    deleteFollow(token, id):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.delete('api/follow/' + id, {headers: headers});\r\n    }\r\n\r\n    getFollowing(token, userId = null, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n\r\n        let url = 'api/following';\r\n        if(userId != null){\r\n            url = 'api/following/' + userId + '/' + page;\r\n        }\r\n        \r\n        return this._http.get(url, {headers: headers});\r\n    }\r\n\r\n    getFollowers(token, userId = null, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n\r\n        let url = 'api/followed';\r\n        if(userId != null){\r\n            url = 'api/followed/' + userId + '/' + page;\r\n        }\r\n        \r\n        return this._http.get(url, {headers: headers});\r\n    }\r\n\r\n    getMyFollows(token):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n\r\n        return this._http.get('api/get-my-follows/true', {headers: headers});                               \r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class NotificationService{\r\n    public token;\r\n\r\n    constructor( private _http: HttpClient ){\r\n    }\r\n\r\n    getToken(){\r\n        let token = JSON.parse(localStorage.getItem('token'));\r\n\r\n        if(token != undefined){\r\n            this.token = token;\r\n        }else{\r\n            this.token = null;\r\n        }\r\n        \r\n        return this.token;\r\n    }\r\n\r\n    saveNotification(token, data, type):Observable<any>{\r\n        let params = JSON.stringify(data);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.post('api/save-notification/' + type , params, {headers: headers})\r\n                                     \r\n    }\r\n    \r\n    getNotifications(token, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.get('api/get-notifications/' + page , {headers: headers})\r\n                                     \r\n    }\r\n\r\n    setViewedNotifications(token, id){\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', token);\r\n        \r\n        return this._http.post('api/set-viewed-notifications/'+ id, {headers: headers})\r\n    }\r\n\r\n    deleteNotification(token, id):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.delete('api/delete-notification/' + id, {headers: headers})\r\n    }\r\n\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { PublicationService } from '../../services/publication.service';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { io } from 'socket.io-client';\r\n\r\n\r\n@Component({\r\n  selector: 'app-notifications',\r\n  templateUrl: './notifications.component.html',\r\n  styleUrls: ['./notifications.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, PublicationService, NotificationService ]\r\n})\r\nexport class NotificationsComponent implements OnInit {\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public identity;\r\n  public token;\r\n  public page;\r\n  public notifications: Notification[];\r\n  \r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService,\r\n    private _publicationService: PublicationService,\r\n    private _notificationService: NotificationService\r\n  ) { \r\n    \r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.page = 1;\r\n  }\r\n  \r\n  ngOnInit(): void {\r\n    this.getNotifications(this.token, this.page);\r\n    this.socket.on(\"newNotification\", newNotification =>{\r\n        this.getNotifications(this.token, this.page);    \r\n  });\r\n  }\r\n\r\n  getNotifications(token, page){\r\n    this._notificationService.getNotifications(token, page).subscribe(\r\n      response => {\r\n        this.notifications = response.notifications;\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n  \r\n  \r\n  \r\n\r\n}\r\n","<div @fade class=\"notifications-container col-xl-12 col-lg-12\">\r\n    <div class=\"mt-5\">\r\n        <h3 class=\"text-center section-title\">Notificaciones</h3>\r\n        <div class=\"notifications mt-5\">\r\n            <div *ngFor=\"let notification of notifications\" class=\"item-notifications d-flex justify-content-center\">\r\n                <div class=\"card card-default\" *ngIf=\"notification.follower.sub != identity._id\">\r\n                    <div class=\"card-body d-flex\">\r\n                        <div *ngIf=\"notification.type === 'like-publication'\">\r\n                            <p>\r\n                                A<img src=\"{{notification.follower.image}}\" *ngIf=\"notification.follower.image\">\r\n                                <img class=\"default-image-user\" src=\"assets/img/default-user.jpg\" alt=\"Foto de perfil\" *ngIf=\"!notification.follower.image\"/> \r\n                                <strong>{{notification.follower.name + ' ' + notification.follower.surname}}</strong> le gust tu publicacin: <br>\r\n                                <small>{{notification.publication.text}}\r\n                                    <img src=\"{{notification.publication.file}}\" *ngIf=\"notification && notification.publication.file != 'null'\">\r\n                                </small>\r\n                            </p>\r\n                            <small>{{ (notification.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}</small>\r\n                        </div>\r\n                        <div *ngIf=\"notification.type === 'new-follow'\">\r\n                            <p>\r\n                                <img src=\"{{notification.follower.image}}\" *ngIf=\"notification.follower.image\">\r\n                                <img class=\"default-image-user\" src=\"assets/img/default-user.jpg\" alt=\"Foto de perfil\" *ngIf=\"!notification.follower.image\"/>\r\n                                <strong>{{notification.follower.name + ' ' + notification.follower.surname}}</strong> a comenzado a seguirte.\r\n                            </p>\r\n                            <small>{{ (notification.created_at | amFromUnix) | amLocale: 'es' | amTimeAgo }}</small>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    </div>\r\n</div>\r\n","var map = {\n\t\"./af\": \"K/tc\",\n\t\"./af.js\": \"K/tc\",\n\t\"./ar\": \"jnO4\",\n\t\"./ar-dz\": \"o1bE\",\n\t\"./ar-dz.js\": \"o1bE\",\n\t\"./ar-kw\": \"Qj4J\",\n\t\"./ar-kw.js\": \"Qj4J\",\n\t\"./ar-ly\": \"HP3h\",\n\t\"./ar-ly.js\": \"HP3h\",\n\t\"./ar-ma\": \"CoRJ\",\n\t\"./ar-ma.js\": \"CoRJ\",\n\t\"./ar-sa\": \"gjCT\",\n\t\"./ar-sa.js\": \"gjCT\",\n\t\"./ar-tn\": \"bYM6\",\n\t\"./ar-tn.js\": \"bYM6\",\n\t\"./ar.js\": \"jnO4\",\n\t\"./az\": \"SFxW\",\n\t\"./az.js\": \"SFxW\",\n\t\"./be\": \"H8ED\",\n\t\"./be.js\": \"H8ED\",\n\t\"./bg\": \"hKrs\",\n\t\"./bg.js\": \"hKrs\",\n\t\"./bm\": \"p/rL\",\n\t\"./bm.js\": \"p/rL\",\n\t\"./bn\": \"kEOa\",\n\t\"./bn-bd\": \"loYQ\",\n\t\"./bn-bd.js\": \"loYQ\",\n\t\"./bn.js\": \"kEOa\",\n\t\"./bo\": \"0mo+\",\n\t\"./bo.js\": \"0mo+\",\n\t\"./br\": \"aIdf\",\n\t\"./br.js\": \"aIdf\",\n\t\"./bs\": \"JVSJ\",\n\t\"./bs.js\": \"JVSJ\",\n\t\"./ca\": \"1xZ4\",\n\t\"./ca.js\": \"1xZ4\",\n\t\"./cs\": \"PA2r\",\n\t\"./cs.js\": \"PA2r\",\n\t\"./cv\": \"A+xa\",\n\t\"./cv.js\": \"A+xa\",\n\t\"./cy\": \"l5ep\",\n\t\"./cy.js\": \"l5ep\",\n\t\"./da\": \"DxQv\",\n\t\"./da.js\": \"DxQv\",\n\t\"./de\": \"tGlX\",\n\t\"./de-at\": \"s+uk\",\n\t\"./de-at.js\": \"s+uk\",\n\t\"./de-ch\": \"u3GI\",\n\t\"./de-ch.js\": \"u3GI\",\n\t\"./de.js\": \"tGlX\",\n\t\"./dv\": \"WYrj\",\n\t\"./dv.js\": \"WYrj\",\n\t\"./el\": \"jUeY\",\n\t\"./el.js\": \"jUeY\",\n\t\"./en-au\": \"Dmvi\",\n\t\"./en-au.js\": \"Dmvi\",\n\t\"./en-ca\": \"OIYi\",\n\t\"./en-ca.js\": \"OIYi\",\n\t\"./en-gb\": \"Oaa7\",\n\t\"./en-gb.js\": \"Oaa7\",\n\t\"./en-ie\": \"4dOw\",\n\t\"./en-ie.js\": \"4dOw\",\n\t\"./en-il\": \"czMo\",\n\t\"./en-il.js\": \"czMo\",\n\t\"./en-in\": \"7C5Q\",\n\t\"./en-in.js\": \"7C5Q\",\n\t\"./en-nz\": \"b1Dy\",\n\t\"./en-nz.js\": \"b1Dy\",\n\t\"./en-sg\": \"t+mt\",\n\t\"./en-sg.js\": \"t+mt\",\n\t\"./eo\": \"Zduo\",\n\t\"./eo.js\": \"Zduo\",\n\t\"./es\": \"iYuL\",\n\t\"./es-do\": \"CjzT\",\n\t\"./es-do.js\": \"CjzT\",\n\t\"./es-mx\": \"tbfe\",\n\t\"./es-mx.js\": \"tbfe\",\n\t\"./es-us\": \"Vclq\",\n\t\"./es-us.js\": \"Vclq\",\n\t\"./es.js\": \"iYuL\",\n\t\"./et\": \"7BjC\",\n\t\"./et.js\": \"7BjC\",\n\t\"./eu\": \"D/JM\",\n\t\"./eu.js\": \"D/JM\",\n\t\"./fa\": \"jfSC\",\n\t\"./fa.js\": \"jfSC\",\n\t\"./fi\": \"gekB\",\n\t\"./fi.js\": \"gekB\",\n\t\"./fil\": \"1ppg\",\n\t\"./fil.js\": \"1ppg\",\n\t\"./fo\": \"ByF4\",\n\t\"./fo.js\": \"ByF4\",\n\t\"./fr\": \"nyYc\",\n\t\"./fr-ca\": \"2fjn\",\n\t\"./fr-ca.js\": \"2fjn\",\n\t\"./fr-ch\": \"Dkky\",\n\t\"./fr-ch.js\": \"Dkky\",\n\t\"./fr.js\": \"nyYc\",\n\t\"./fy\": \"cRix\",\n\t\"./fy.js\": \"cRix\",\n\t\"./ga\": \"USCx\",\n\t\"./ga.js\": \"USCx\",\n\t\"./gd\": \"9rRi\",\n\t\"./gd.js\": \"9rRi\",\n\t\"./gl\": \"iEDd\",\n\t\"./gl.js\": \"iEDd\",\n\t\"./gom-deva\": \"qvJo\",\n\t\"./gom-deva.js\": \"qvJo\",\n\t\"./gom-latn\": \"DKr+\",\n\t\"./gom-latn.js\": \"DKr+\",\n\t\"./gu\": \"4MV3\",\n\t\"./gu.js\": \"4MV3\",\n\t\"./he\": \"x6pH\",\n\t\"./he.js\": \"x6pH\",\n\t\"./hi\": \"3E1r\",\n\t\"./hi.js\": \"3E1r\",\n\t\"./hr\": \"S6ln\",\n\t\"./hr.js\": \"S6ln\",\n\t\"./hu\": \"WxRl\",\n\t\"./hu.js\": \"WxRl\",\n\t\"./hy-am\": \"1rYy\",\n\t\"./hy-am.js\": \"1rYy\",\n\t\"./id\": \"UDhR\",\n\t\"./id.js\": \"UDhR\",\n\t\"./is\": \"BVg3\",\n\t\"./is.js\": \"BVg3\",\n\t\"./it\": \"bpih\",\n\t\"./it-ch\": \"bxKX\",\n\t\"./it-ch.js\": \"bxKX\",\n\t\"./it.js\": \"bpih\",\n\t\"./ja\": \"B55N\",\n\t\"./ja.js\": \"B55N\",\n\t\"./jv\": \"tUCv\",\n\t\"./jv.js\": \"tUCv\",\n\t\"./ka\": \"IBtZ\",\n\t\"./ka.js\": \"IBtZ\",\n\t\"./kk\": \"bXm7\",\n\t\"./kk.js\": \"bXm7\",\n\t\"./km\": \"6B0Y\",\n\t\"./km.js\": \"6B0Y\",\n\t\"./kn\": \"PpIw\",\n\t\"./kn.js\": \"PpIw\",\n\t\"./ko\": \"Ivi+\",\n\t\"./ko.js\": \"Ivi+\",\n\t\"./ku\": \"JCF/\",\n\t\"./ku.js\": \"JCF/\",\n\t\"./ky\": \"lgnt\",\n\t\"./ky.js\": \"lgnt\",\n\t\"./lb\": \"RAwQ\",\n\t\"./lb.js\": \"RAwQ\",\n\t\"./lo\": \"sp3z\",\n\t\"./lo.js\": \"sp3z\",\n\t\"./lt\": \"JvlW\",\n\t\"./lt.js\": \"JvlW\",\n\t\"./lv\": \"uXwI\",\n\t\"./lv.js\": \"uXwI\",\n\t\"./me\": \"KTz0\",\n\t\"./me.js\": \"KTz0\",\n\t\"./mi\": \"aIsn\",\n\t\"./mi.js\": \"aIsn\",\n\t\"./mk\": \"aQkU\",\n\t\"./mk.js\": \"aQkU\",\n\t\"./ml\": \"AvvY\",\n\t\"./ml.js\": \"AvvY\",\n\t\"./mn\": \"lYtQ\",\n\t\"./mn.js\": \"lYtQ\",\n\t\"./mr\": \"Ob0Z\",\n\t\"./mr.js\": \"Ob0Z\",\n\t\"./ms\": \"6+QB\",\n\t\"./ms-my\": \"ZAMP\",\n\t\"./ms-my.js\": \"ZAMP\",\n\t\"./ms.js\": \"6+QB\",\n\t\"./mt\": \"G0Uy\",\n\t\"./mt.js\": \"G0Uy\",\n\t\"./my\": \"honF\",\n\t\"./my.js\": \"honF\",\n\t\"./nb\": \"bOMt\",\n\t\"./nb.js\": \"bOMt\",\n\t\"./ne\": \"OjkT\",\n\t\"./ne.js\": \"OjkT\",\n\t\"./nl\": \"+s0g\",\n\t\"./nl-be\": \"2ykv\",\n\t\"./nl-be.js\": \"2ykv\",\n\t\"./nl.js\": \"+s0g\",\n\t\"./nn\": \"uEye\",\n\t\"./nn.js\": \"uEye\",\n\t\"./oc-lnc\": \"Fnuy\",\n\t\"./oc-lnc.js\": \"Fnuy\",\n\t\"./pa-in\": \"8/+R\",\n\t\"./pa-in.js\": \"8/+R\",\n\t\"./pl\": \"jVdC\",\n\t\"./pl.js\": \"jVdC\",\n\t\"./pt\": \"8mBD\",\n\t\"./pt-br\": \"0tRk\",\n\t\"./pt-br.js\": \"0tRk\",\n\t\"./pt.js\": \"8mBD\",\n\t\"./ro\": \"lyxo\",\n\t\"./ro.js\": \"lyxo\",\n\t\"./ru\": \"lXzo\",\n\t\"./ru.js\": \"lXzo\",\n\t\"./sd\": \"Z4QM\",\n\t\"./sd.js\": \"Z4QM\",\n\t\"./se\": \"//9w\",\n\t\"./se.js\": \"//9w\",\n\t\"./si\": \"7aV9\",\n\t\"./si.js\": \"7aV9\",\n\t\"./sk\": \"e+ae\",\n\t\"./sk.js\": \"e+ae\",\n\t\"./sl\": \"gVVK\",\n\t\"./sl.js\": \"gVVK\",\n\t\"./sq\": \"yPMs\",\n\t\"./sq.js\": \"yPMs\",\n\t\"./sr\": \"zx6S\",\n\t\"./sr-cyrl\": \"E+lV\",\n\t\"./sr-cyrl.js\": \"E+lV\",\n\t\"./sr.js\": \"zx6S\",\n\t\"./ss\": \"Ur1D\",\n\t\"./ss.js\": \"Ur1D\",\n\t\"./sv\": \"X709\",\n\t\"./sv.js\": \"X709\",\n\t\"./sw\": \"dNwA\",\n\t\"./sw.js\": \"dNwA\",\n\t\"./ta\": \"PeUW\",\n\t\"./ta.js\": \"PeUW\",\n\t\"./te\": \"XLvN\",\n\t\"./te.js\": \"XLvN\",\n\t\"./tet\": \"V2x9\",\n\t\"./tet.js\": \"V2x9\",\n\t\"./tg\": \"Oxv6\",\n\t\"./tg.js\": \"Oxv6\",\n\t\"./th\": \"EOgW\",\n\t\"./th.js\": \"EOgW\",\n\t\"./tk\": \"Wv91\",\n\t\"./tk.js\": \"Wv91\",\n\t\"./tl-ph\": \"Dzi0\",\n\t\"./tl-ph.js\": \"Dzi0\",\n\t\"./tlh\": \"z3Vd\",\n\t\"./tlh.js\": \"z3Vd\",\n\t\"./tr\": \"DoHr\",\n\t\"./tr.js\": \"DoHr\",\n\t\"./tzl\": \"z1FC\",\n\t\"./tzl.js\": \"z1FC\",\n\t\"./tzm\": \"wQk9\",\n\t\"./tzm-latn\": \"tT3J\",\n\t\"./tzm-latn.js\": \"tT3J\",\n\t\"./tzm.js\": \"wQk9\",\n\t\"./ug-cn\": \"YRex\",\n\t\"./ug-cn.js\": \"YRex\",\n\t\"./uk\": \"raLr\",\n\t\"./uk.js\": \"raLr\",\n\t\"./ur\": \"UpQW\",\n\t\"./ur.js\": \"UpQW\",\n\t\"./uz\": \"Loxo\",\n\t\"./uz-latn\": \"AQ68\",\n\t\"./uz-latn.js\": \"AQ68\",\n\t\"./uz.js\": \"Loxo\",\n\t\"./vi\": \"KSF8\",\n\t\"./vi.js\": \"KSF8\",\n\t\"./x-pseudo\": \"/X5v\",\n\t\"./x-pseudo.js\": \"/X5v\",\n\t\"./yo\": \"fzPg\",\n\t\"./yo.js\": \"fzPg\",\n\t\"./zh-cn\": \"XDpg\",\n\t\"./zh-cn.js\": \"XDpg\",\n\t\"./zh-hk\": \"SatO\",\n\t\"./zh-hk.js\": \"SatO\",\n\t\"./zh-mo\": \"OmwH\",\n\t\"./zh-mo.js\": \"OmwH\",\n\t\"./zh-tw\": \"kOpN\",\n\t\"./zh-tw.js\": \"kOpN\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"RnhZ\";","import { Component, OnInit, DoCheck } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from './services/user.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss'],\r\n  providers: [ UserService ]\r\n})\r\nexport class AppComponent implements OnInit, DoCheck {\r\n  public title = 'Vaporbox';\r\n  public identity;\r\n  public token;\r\n  public router: string;\r\n\r\n  constructor(\r\n    private _userService:UserService,\r\n    private _router: Router\r\n  ){\r\n    this.router = _router.url;\r\n  }\r\n  \r\n  ngOnInit(){\r\n    this.identity = this._userService.getIdentity();\r\n  }\r\n  \r\n  ngDoCheck(){\r\n    this.identity = this._userService.getIdentity();\r\n    this._router.events.subscribe(e => {\r\n      this.router = this._router.url;\r\n    })\r\n  }\r\n\r\n  onActivate(event) {\r\n    window.scroll(0,0);\r\n  }\r\n}\r\n","<app-navbar *ngIf=\"!(router === '/register' || router === '/login' || router === '/')\"></app-navbar>\r\n<router-outlet (activate)=\"onActivate($event)\"></router-outlet>","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { UserService } from '../../services/user.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService ]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n  public user:User;\r\n  public status:string;\r\n  public identity;\r\n  public token;\r\n  public loading: boolean;\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService\r\n  ) {\r\n    this.loading = true;\r\n    this.user = new User( \"\", \"\", \"\", \"\", \"\", \"\", \"ROLE_USER\", \"\", \"\"); \r\n   }\r\n\r\n  ngOnInit(): void {\r\n    if(localStorage['firstTimeLoad'] ==='TRUE'){\r\n      this.loading = false;\r\n    }else{\r\n      setTimeout(() => {\r\n        this.loading = false;  \r\n        localStorage['firstTimeLoad']='TRUE'; \r\n      }, 3000)\r\n    }\r\n  }\r\n\r\n  onSubmit(){\r\n      //Loguear al usuario y conseguir sus datos\r\n      this._userService.signup(this.user).subscribe(\r\n          response => {\r\n            this.identity = response.user;\r\n\r\n            if(!this.identity || !this.identity._id){\r\n              this.status ='error';\r\n            }else{\r\n              //Persistir sesin en la navegacin\r\n              localStorage.setItem('identity', JSON.stringify(this.identity));\r\n\r\n\r\n              //Conseguir el token\r\n              this.getToken();\r\n\r\n            }\r\n          },\r\n          error => {\r\n            let errorMessage = <any>error;\r\n            console.log(errorMessage);\r\n\r\n            if(errorMessage != null) {\r\n                  this.status = 'error'\r\n            }\r\n          }\r\n      )\r\n  }\r\n\r\n  getToken(){\r\n    this._userService.signup(this.user, 'true').subscribe(\r\n      response => {\r\n        this.token = JSON.stringify(response.token);\r\n\r\n        if(this.token.length <= 0){\r\n          this.status ='error';\r\n        }else{\r\n          //Persistir el token de usuario\r\n          localStorage.setItem('token', this.token);\r\n\r\n          //Conseguir los contadores o estadisticas de usuario\r\n          this.getCounters();\r\n\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n        \r\n        if(errorMessage != null) {\r\n          this.status = 'error'\r\n        }\r\n      }\r\n      );     \r\n    }\r\n    \r\n    getCounters(){\r\n      this._userService.getCounters().subscribe(\r\n        response => {\r\n          localStorage.setItem('stats', JSON.stringify(response));\r\n          this.status = 'success'; \r\n          this._router.navigate(['/timeline']);\r\n          \r\n        },\r\n        error => {\r\n          console.log(<any>error);\r\n        }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"loading-container\" *ngIf=\"loading\">\r\n    <app-loading></app-loading>\r\n</div>\r\n<video id=\"bgVideo\" preload=\"true\" autoplay loop muted oncanplay=\"this.play()\" onloadedmetadata=\"this.muted = true\" *ngIf=\"!loading\">\r\n    <source src=\"assets/video/video1.mp4\" type=\"video/mp4\" > \r\n</video>\r\n<div @fade class=\"row login-container\" *ngIf=\"!loading\">\r\n\r\n    <h1 class=\"text-center brand mt-3\">Vaporbox</h1>\r\n\r\n    <div class=\"mb-5 mt-5 form-container\">\r\n        <h3 class=\"mb-3 mt-5 section-title\">Ingres a tu cuenta</h3>\r\n\r\n        <div class=\"alert\" *ngIf=\"status == 'error'\">\r\n            No has podido iniciar sesin, intentalo nuevamente.\r\n        </div>\r\n\r\n        <form #loginForm=\"ngForm\" (ngSubmit)=\"onSubmit()\" class=\"col-xl-4 col-lg-4\">\r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"email\">Direccin de email</label>\r\n                <input type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\"\r\n                class=\"form-control\" required pattern=\"[a-z0-9-_%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"/>\r\n            </div>\r\n            <span *ngIf=\"!email.valid && email.touched\">Debe ingresar una direccin de email vlida</span>\r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"password\">Contrasea</label>\r\n                <input type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\"\r\n                class=\"form-control\" required/>\r\n                <span *ngIf=\"!password.valid && password.touched\">Ingres tu contrasea</span>\r\n            </div>\r\n            <div class=\"text-center\">\r\n                <small>No tens una cuenta en Vaporbox? Registrate <a [routerLink]=\"['/register']\">aqu</a> </small>\r\n            </div>\r\n            <div class=\"text-center\">\r\n                <button type=\"submit\" class=\"btn btn-default mt-3\" [disabled]=\"!loginForm.form.valid\">Iniciar Sesin</button>\r\n                <button type=\"button\" class=\"btn btn-light mt-3\" [routerLink]=\"['/register']\">Registrate</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { UserService } from '../../services/user.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-register',\r\n  templateUrl: './register.component.html',\r\n  styleUrls: ['./register.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [UserService]\r\n})\r\nexport class RegisterComponent implements OnInit {\r\n  public user: User;\r\n  public status: string;\r\n  public loading: boolean;\r\n\r\n  constructor(\r\n    private _route: ActivatedRoute,\r\n    private _router: Router,\r\n    private _userService: UserService\r\n  ) {\r\n    this.loading = true;\r\n    this.user = new User( \"\", \"\", \"\", \"\", \"\", \"\", \"ROLE_USER\", \"\", \"\");\r\n   }\r\n\r\n  ngOnInit(): void {\r\n    if(localStorage['firstTimeLoad'] ==='TRUE'){\r\n      this.loading = false;\r\n    }else{\r\n      setTimeout(() => {\r\n        this.loading = false;  \r\n        localStorage['firstTimeLoad']='TRUE'; \r\n      }, 3000)\r\n    }\r\n  }\r\n  \r\n  onSubmit(form){\r\n    this._userService.register(this.user).subscribe(\r\n        response => {\r\n            if(response.user && response.user._id){\r\n              this.status = 'success';\r\n              form.reset();\r\n              this._router.navigate(['/login'])\r\n            }else{\r\n              this.status = 'error';\r\n            }\r\n        },\r\n        error =>{\r\n            console.log(<any>error)\r\n        }\r\n    );\r\n  }\r\n}\r\n","<div class=\"loading-container\" *ngIf=\"loading\">\r\n    <app-loading></app-loading>\r\n</div>\r\n<video id=\"bgVideo\" preload=\"true\" autoplay loop muted oncanplay=\"this.play()\" onloadedmetadata=\"this.muted = true\" *ngIf=\"!loading\">\r\n    <source src=\"assets/video/video1.mp4\" type=\"video/mp4\" > \r\n</video>\r\n<div @fade class=\"row register-container\" *ngIf=\"!loading\">\r\n    <div id=\"brand-slogan\" class=\"col-lg-4 d-flex flex-column justify-content-center text-center\">\r\n        <h1 class=\"text-center brand\">Vaporbox</h1>\r\n        <h5 class=\"mt-lg-5 glitch\" data-text=\"S quin quieras ser\">S quin quieras ser</h5>\r\n    </div>\r\n    \r\n    <div class=\"col-lg-4 mb-3 mt-lg-3 form-container\">\r\n        \r\n        <h3 class=\"section-title\">Crea tu cuenta</h3>\r\n\r\n        <div class=\"alert alert-success\" *ngIf=\"status == 'success'\">\r\n            Registro completado con xito, ya pods <a [routerLink]=\"['/login']\">iniciar sesin</a> aqu\r\n        </div>\r\n        <div class=\"alert alert-danger\" *ngIf=\"status == 'error'\">\r\n            El registro no ha podido completarse, quizs tu nombre de usuario o email ya est en uso, intentalo de nuevo!\r\n        </div>\r\n\r\n        <form #registerForm=\"ngForm\" (ngSubmit)=\"onSubmit(registerForm)\" class=\"col-lg-12\">\r\n            <label for=\"name\">Nombre</label>\r\n            <div class=\"col-lg-12\">\r\n                <input type=\"text\" name=\"name\" #name=\"ngModel\" [(ngModel)]=\"user.name\" class=\"form-control\" required/>\r\n                <span *ngIf=\"!name.valid && name.touched\">El nombre es obligatorio</span>\r\n            </div>\r\n    \r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"surname\">Apellido</label>\r\n                <input type=\"text\" name=\"surname\" #surname=\"ngModel\" [(ngModel)]=\"user.surname\" class=\"form-control\" required/>\r\n                <span *ngIf=\"!surname.valid && surname.touched\">El apellido es obligatorio</span>\r\n            </div>\r\n    \r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"nick\">Nombre de Usuario</label>\r\n                <input type=\"text\" name=\"nick\" #nick=\"ngModel\" [(ngModel)]=\"user.nick\" class=\"form-control\" required/>\r\n                <span *ngIf=\"!nick.valid && nick.touched\">El nombre de usuario es obligatorio</span>\r\n            </div>\r\n    \r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"email\">Email</label>\r\n                <input type=\"email\" name=\"email\" #email=\"ngModel\" [(ngModel)]=\"user.email\" class=\"form-control\" required pattern=\"[a-z0-9-_%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$\"/>\r\n                <span *ngIf=\"!email.valid && email.touched\">El email es obligatorio y debe ser vlido</span>\r\n            </div>\r\n    \r\n            <div class=\"col-lg-12 mt-3\">\r\n                <label for=\"password\">Contrasea</label>\r\n                <input type=\"password\" name=\"password\" #password=\"ngModel\" [(ngModel)]=\"user.password\" class=\"form-control\" required/>\r\n                <span *ngIf=\"!password.valid && password.touched\">La contrasea es obligatoria</span>\r\n            </div>\r\n            <div class=\"text-center\">\r\n                <small>Ya tens una cuenta en Vaporbox? Inici sesin <a [routerLink]=\"['/login']\">aqu</a> </small>\r\n            </div>\r\n            <div class=\"text-center\">\r\n                <button type=\"submit\" class=\"btn btn-default mt-3\" [disabled]=\"!registerForm.form.valid\">Registrarse</button>\r\n                <button type=\"button\" class=\"btn btn-light mt-3\" [routerLink]=\"['/login']\">Iniciar Sesin</button>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>\r\n\r\n\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule }   from '@angular/forms';\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { MomentModule } from 'angular2-moment';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { RegisterComponent } from './components//register/register.component';\r\nimport { NavbarComponent } from './components/navbar/navbar.component';\r\nimport { UserEditComponent } from './components/user-edit/user-edit.component';\r\nimport { UsersComponent } from './components/users/users.component';\r\nimport { SidebarComponent } from './components/sidebar/sidebar.component';\r\nimport { TimelineComponent } from './components/timeline/timeline.component';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { PublicationsComponent } from './components/publications/publications.component';\r\nimport { FollowingComponent } from './components/following/following.component';\r\nimport { FollowersComponent } from './components/followers/followers.component';\r\nimport { SavedPublicationsComponent } from './components/saved-publications/saved-publications.component';\r\nimport { ChatComponent } from './components/chat/chat.component';\r\n\r\nimport { UserGuard } from './services/user.guard';\r\nimport { UserService } from './services/user.service';\r\nimport { NotificationService } from './services/notification.service';\r\nimport { NotificationsComponent } from './components/notifications/notifications.component';\r\nimport { FilterPipe } from './pipes/filter.pipe';\r\nimport { LoadingComponent } from './components/loading/loading.component';\r\nimport { TruncatePipe } from './pipes/truncate.pipe';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    LoginComponent,\r\n    RegisterComponent,\r\n    NavbarComponent,\r\n    UserEditComponent,\r\n    UsersComponent,\r\n    SidebarComponent,\r\n    TimelineComponent,\r\n    ProfileComponent,\r\n    PublicationsComponent,\r\n    FollowingComponent,\r\n    FollowersComponent,\r\n    SavedPublicationsComponent,\r\n    ChatComponent,\r\n    NotificationsComponent,\r\n    FilterPipe,\r\n    LoadingComponent,\r\n    TruncatePipe\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    AppRoutingModule,\r\n    MomentModule,\r\n    BrowserAnimationsModule\r\n  ],\r\n  exports: [],\r\n  providers: [ NotificationService, UserService, UserGuard ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'truncate'\r\n})\r\nexport class TruncatePipe implements PipeTransform {\r\n\r\n  transform(value: string, args: any[]): string {\r\n    const limit = args.length > 0 ? parseInt(args[0], 10) : 20;\r\n    const trail = args.length > 1 ? args[1] : '...';\r\n    return value.length > limit ? value.substring(0, limit) + trail : value;\r\n   }\r\n\r\n   \r\n}\r\n\r\n\r\n","import { Component, OnInit} from '@angular/core';\r\nimport { Router, ActivatedRoute} from '@angular/router';\r\nimport { UserService } from '../../services/user.service';\r\nimport { NotificationService } from '../../services/notification.service';\r\nimport { MessageService } from '../../services/message.service';\r\nimport { io } from 'socket.io-client';\r\nimport { Observable} from 'rxjs';\r\nimport { Message } from 'src/app/models/message';\r\n\r\n@Component({\r\n  selector: 'app-navbar',\r\n  templateUrl: './navbar.component.html',\r\n  styleUrls: ['./navbar.component.scss'],\r\n  providers: [ MessageService ]\r\n})\r\nexport class NavbarComponent implements OnInit{\r\n  private socket = io(\"wss://vaporbox-api.onrender.com\");\r\n  public identity;\r\n  public token;\r\n  public newNotifications$: Observable<boolean>;\r\n  public myNotifications;\r\n  public unviewedMessages: Message[];\r\n\r\n  constructor(  public user: UserService,\r\n                private _notificationService: NotificationService,\r\n                private _messageService: MessageService,\r\n                private _route: ActivatedRoute,\r\n                private _router: Router\r\n              ) { \r\n                  this.identity = this.user.getIdentity();\r\n                  this.unviewedMessages = [];\r\n                  this.token = user.getToken();\r\n                  this.checkIfNewNotifications();\r\n                  this.checkUnviewedMessages();                 \r\n                \r\n              }\r\n              \r\n  ngOnInit(): void{\r\n      this.sockets();\r\n  }\r\n\r\n  sockets(){\r\n    this.socket.emit(\"addUser\", this.identity._id);\r\n    this.socket.on(\"newNotification\", newNotification =>{\r\n      this.checkIfNewNotifications();\r\n    });\r\n    this.socket.on(\"getMessage\", msg =>{\r\n      console.log(msg)\r\n      this.checkUnviewedMessages();\r\n    })   \r\n  }\r\n\r\n  logout(){\r\n      localStorage.clear();\r\n      localStorage['firstTimeLoad']='FALSE';    \r\n      this.identity = null;\r\n      this._router.navigate(['/login']);  \r\n  }\r\n\r\n  toTop(event){\r\n    window.scroll(0,0);\r\n  }\r\n\r\n  seeNotifications(){\r\n    new Observable(observer=>observer.next(false));\r\n    this.setViewedNotifications(this.token, this.identity._id);\r\n  }\r\n\r\n  checkIfNewNotifications(){\r\n     \r\n    this._notificationService.getNotifications(this.token).subscribe(\r\n      response => {\r\n        this.myNotifications = response.notifications.filter(notification => notification.viewed == false).length;\r\n        if(this.myNotifications > 0){\r\n          this.newNotifications$ = new Observable(observer=>observer.next(true));\r\n        }\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n  setViewedNotifications(token, id){\r\n    this._notificationService.setViewedNotifications(token, id).subscribe(\r\n      response =>{\r\n      },\r\n      error =>{\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  checkUnviewedMessages(){\r\n    this._messageService.getUnviewedMessages(this.token).subscribe(\r\n      response => {\r\n        this.unviewedMessages = response.unviewed;\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n}\r\n","<div class=\"navigation col-lg-12\">\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"navbar-header mx-xl-5 mx-lg-3\">\r\n          <a [routerLink]=\"['/timeline']\" (click)=\"toTop($event)\" class=\"navbar-brand\">Vaporbox</a>\r\n        </div>\r\n        <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\"\r\n          aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n          <span class=\"navbar-toggler-icon\"></span>\r\n        </button>\r\n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n          <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n            <div class=\"d-flex\">\r\n              <li class=\"nav-item mx-xl-3 mx-lg-3 mobile-avatar\">\r\n                <!--Imagen de usuario-->\r\n                <a [routerLink]=\"['/profile', identity._id]\"><img src=\"{{ identity.image }}\"\r\n                    alt=\"Avatar de usuario logueado\" *ngIf=\"identity && identity.image\">\r\n                  <img src=\"assets/img/default-user.jpg\" class=\"default-img\" alt=\"Imagen de usuario\"\r\n                    *ngIf=\"!identity.image || identity.image == null\">\r\n                  </a>\r\n              </li>\r\n              <a [routerLink]=\"['/profile', identity._id]\" class=\"mobile-name\">\r\n                <strong>{{identity.name}}</strong>\r\n              </a>\r\n            </div>\r\n  \r\n            <li class=\"nav-item mx-xl-3 mx-lg-3\">\r\n              <a [routerLink]=\"['/timeline']\" (click)=\"toTop($event)\" class=\"nav-link\">\r\n                <i class=\"fa fa-home fa-lg mx-lg-2\"></i>\r\n                Inicio\r\n              </a>\r\n            </li>\r\n  \r\n            <li class=\"nav-item mx-xl-3 mx-lg-3\">\r\n              <a [routerLink]=\"['/users/']\" class=\"nav-link\">\r\n                <i class=\"fa fa-users fa-lg mx-lg-2\"></i>\r\n                Gente\r\n              </a>\r\n            </li>\r\n  \r\n            <li class=\"nav-item mx-xl-3 mx-lg-3\">\r\n              <a [routerLink]=\"['/chat']\" class=\"nav-link\" *ngIf=\"unviewedMessages\">\r\n                <i class=\"fa fa-comments fa-lg mx-lg-2\" *ngIf=\"unviewedMessages.length < 1\"></i>\r\n                <i class=\"fa fa-comments fa-lg mx-lg-2 new-unviewed\" *ngIf=\"unviewedMessages.length >= 1\">\r\n                  <small>{{unviewedMessages.length}}</small>\r\n                </i>\r\n                Chat\r\n              </a>\r\n            </li>\r\n  \r\n            <li class=\"nav-item\" id=\"mobile-notifications\">\r\n              <a (click)=\"seeNotifications()\" [routerLink]=\"['/notifications']\" class=\"nav-link\">\r\n                <i class=\"fa fa-bell fa-lg\" *ngIf=\"!newNotifications$\"></i>\r\n                <i class=\"fa fa-bell fa-lg new-unviewed\" *ngIf=\"newNotifications$\"><small>{{myNotifications}}</small></i>\r\n                Notificaciones\r\n              </a>\r\n            </li>\r\n  \r\n            <li id=\"log-out\" class=\"nav-item mx-xl-3 mx-lg-3\">\r\n              <a href=\"#\" (click)=\"logout()\" class=\"nav-link\">\r\n                <i class=\"fa fa-times fa-lg\"></i>\r\n                Cerrar Sesin\r\n              </a>\r\n            </li>\r\n          </ul>\r\n          <ul class=\"nav navbar navbar-right mx-xl-5\" *ngIf=\"identity\">\r\n            <li class=\"avatar\">\r\n              <!--Imagen de usuario-->\r\n              <a [routerLink]=\"['/profile', identity._id]\"><img src=\"{{ identity.image }}\"\r\n                  alt=\"Avatar de usuario logueado\" *ngIf=\"identity && identity.image\">\r\n                <img src=\"assets/img/default-user.jpg\" class=\"default-img\" alt=\"Imagen de usuario\"\r\n                  *ngIf=\"!identity.image || identity.image == null\"></a>\r\n            </li>\r\n            <li class=\"dropdown\">\r\n              <a class=\"dropdown-toggle\" data-bs-toggle=\"dropdown\" href=\"#\">\r\n                <strong>{{identity.name}}</strong>\r\n                <span class=\"caret\"></span>\r\n              </a>\r\n              <ul class=\"dropdown-menu\">\r\n                <li>\r\n                  <a [routerLink]=\"['/profile/'+identity._id]\"><i class=\"fa fa-user mx-2\"></i>Perfil</a>\r\n                </li>\r\n                <li>\r\n                  <a [routerLink]=\"['/user-edit']\"><i class=\"fa fa-cog mx-2\"></i>Configuracin</a>\r\n                </li>\r\n                <li>\r\n                  <a (click)=\"logout()\"><i class=\"fa fa-times mx-2\"></i>Cerrar Sesin</a>\r\n                </li>\r\n              </ul>\r\n            </li>\r\n            <li class=\"nav-item notifications\">\r\n              <a (click)=\"seeNotifications()\" [routerLink]=\"['/notifications']\" class=\"nav-link\">\r\n                <i class=\"fa fa-bell fa-lg\" *ngIf=\"!newNotifications$\"></i>\r\n                <i class=\"fa fa-bell fa-lg new-unviewed\" *ngIf=\"newNotifications$\"><small>{{myNotifications}}</small></i>\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </div>\r\n  \r\n      </div>\r\n    </nav>\r\n  </div>\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class UploadService{\r\n    public url:string;\r\n\r\n    constructor(){\r\n        this.url = 'api/';\r\n    }\r\n    \r\n    makeFileRequest( url: string, params: Array<string>, files:Array<File>, token:string, name:string ){\r\n        return new Promise(function(resolve, reject){\r\n            let formData: any = new FormData();\r\n            let xhr = new XMLHttpRequest();\r\n\r\n            for(let i = 0; i < files.length; i++){\r\n                formData.append(name, files[i], files[i].name);\r\n            }\r\n\r\n            xhr.onreadystatechange = function(){\r\n                if(xhr.readyState == 4){\r\n                    if(xhr.status == 200){\r\n                        resolve(JSON.parse(xhr.response));\r\n                    }else{\r\n                        reject(xhr.response);\r\n                    }\r\n                }\r\n            }\r\n\r\n            xhr.open('POST', url, true);\r\n            xhr.setRequestHeader('Authorization', token);\r\n            xhr.send(formData);\r\n        });\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { Follow } from '../../models/follow';\r\nimport { UserService } from '../../services/user.service';\r\nimport { FollowService } from '../../services/follow.service';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-followers',\r\n  templateUrl: './followers.component.html',\r\n  styleUrls: ['./followers.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, FollowService, NotificationService ]\r\n})\r\nexport class FollowersComponent implements OnInit {\r\n  public identity;\r\n  public token;\r\n  public user:User;\r\n  public page;\r\n  public next_page;\r\n  public prev_page;\r\n  public total;\r\n  public pages;\r\n  public users:User[];\r\n  public status:string;\r\n  public follows;\r\n  public followers;\r\n  public followMouseOver;\r\n  public userPageId;\r\n  public mobile:boolean;\r\n\r\n\r\n  constructor(  private _route:ActivatedRoute,\r\n                private _router:Router,\r\n                private _userService:UserService,\r\n                private _followService:FollowService,\r\n                private _notificationService:NotificationService ) \r\n    { \r\n      this.identity = this._userService.getIdentity();\r\n      this.token = this._userService.getToken();\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.actualPage();\r\n    if (window.screen.width <= 992) { \r\n      this.mobile = true;\r\n    }else{\r\n      this.mobile = false;\r\n    }\r\n  }\r\n\r\n  actualPage(){\r\n    this._route.params.subscribe(params=>{\r\n      let user_id = params['id'];\r\n      this.userPageId = user_id;\r\n      let page = params['page'];\r\n      this.page = page;\r\n\r\n      if(!params['page'] || page == undefined){\r\n        page = 1;\r\n      }\r\n\r\n      if(!page){\r\n        page = 1\r\n      }else{\r\n        \r\n        this.next_page = parseInt(page) + 1;\r\n        this.prev_page = parseInt(page) - 1;\r\n        if(this.prev_page <= 0){\r\n            this.prev_page = 1;\r\n        }\r\n      }\r\n      \r\n      this.getUser(user_id, page);\r\n    });\r\n  }\r\n\r\n  getFollows( user_id, page ){\r\n    this._followService.getFollowers(this.token, user_id, page).subscribe(\r\n      response => {\r\n        if(!response.follows){\r\n          this.status = \"error\";\r\n        }else{\r\n          this.total = response.total;\r\n          this.followers = response.follows;\r\n          this.pages = response.pages;\r\n          this.follows = response.users_following;\r\n\r\n          if(page > this.pages){\r\n            this._router.navigate(['/users/', 1])\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if(errorMessage != null){\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getUser(user_id, page){\r\n    this._userService.getUser(user_id).subscribe(\r\n      response => {\r\n        if(response.user){\r\n          this.user = response.user;\r\n          //Devolver listado de usuarios\r\n          this.getFollows( user_id, page );\r\n        }else{\r\n          this._router.navigate(['/home']);\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if(errorMessage != null){\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  mouseEnter(user_id){\r\n      this.followMouseOver = user_id;\r\n  }\r\n\r\n  mouseLeave(user_id){\r\n    this.followMouseOver = 0;\r\n  }\r\n\r\n  followUser(followed, user){\r\n    let follow = new Follow('', this.identity._id, followed);\r\n\r\n    this._followService.addFollow(this.token, follow).subscribe(\r\n        response=>{\r\n          if(response.followStored){\r\n            this.status = 'error'\r\n          }else{\r\n            this.status = 'success';\r\n            this.follows.push(followed);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n          this.saveNotification(user);\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  unfollowUser(followed){\r\n    this._followService.deleteFollow(this.token, followed).subscribe(\r\n        response=>{\r\n          let search = this.follows.indexOf(followed);\r\n          if(search != -1){\r\n            this.follows.splice(search, 1);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  getCounters(){\r\n    this._userService.getCounters().subscribe(\r\n        response =>{\r\n            //Guardamos en stats la respuesta JSON\r\n            localStorage.setItem('stats', JSON.stringify(response));\r\n            this.status = 'success';\r\n \r\n        }, \r\n        error=>{\r\n            console.log(error);\r\n        }\r\n        \r\n    )\r\n  }\r\n\r\n  saveNotification(follower){\r\n    this._notificationService.saveNotification(this.token, follower, 'new-follow').subscribe(\r\n      response => {\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n}","<div @fade class=\"followers-container col-xl-12 col-lg-12\">\r\n    <div class=\"d-flex flex-column justify-content-center\">\r\n        <h3 class=\"mb-3 text-center section-title\" *ngIf=\"user\">Seguidores de {{user.name}}</h3>\r\n        <div class=\"people mt-3\" *ngIf=\"followers\">\r\n            <div *ngFor=\"let follow of followers\" class=\"item-user d-flex justify-content-center\">\r\n                <div class=\"card card-default mb-3\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"image-user pull-left\">\r\n                            <a [routerLink]=\"['/profile/',follow.user._id]\">\r\n                                <img src=\"{{follow.user.image}}\" alt=\"Imagen de usuario\" *ngIf=\"follow.user.image\">\r\n                                <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!follow.user.image\">\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"user-name\">\r\n                            <p><a [routerLink]=\"['/profile/', follow.user._id]\">{{follow.user.name + ' ' + follow.user.surname}}</a></p>\r\n                            <p class=\"username\"><small>{{'@'+follow.user.nick}}</small></p>\r\n                            <p class=\"bio\" *ngIf=\"user.bio\">{{follow.user.bio}}</p>\r\n                        </div>\r\n                        <!--seguir y dejar de seguir-->\r\n                        <div class=\"pull-right\" *ngIf=\"follow.user._id != identity._id\">\r\n                            \r\n                            <button class=\"btn btn-default\" \r\n                            *ngIf=\"follows.indexOf(follow.user._id) < 0\"\r\n                            (click)=\"followUser(follow.user._id, follow.user)\">\r\n                                <i class=\"fa fa-user-plus\"></i><span class=\"button-text\">Seguir</span>\r\n                            </button>\r\n    \r\n                            <button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(follow.user._id) >= 0\"\r\n                                (mouseenter)=\"mouseEnter(follow.user._id)\"\r\n                                (mouseleave)=\"mouseLeave(follow.user._id)\"\r\n                                (click)=\"unfollowUser(follow.user._id)\"\r\n                                >\r\n                                <span *ngIf=\"follow.user._id == followMouseOver && !mobile; else following\">\r\n                                    <i class=\"fa fa-user-times\"></i><span class=\"button-text\">Dejar de seguir</span>\r\n                                </span>\r\n                                <ng-template #following>\r\n                                    <i class=\"fa fa-check\"></i><span class=\"button-text\">Siguiendo</span>\r\n                                </ng-template>\r\n                                \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--Paginacin-->\r\n        <div class=\"d-flex justify-content-center\">\r\n            <ul class=\"pagination\">\r\n                <li *ngIf=\"page > 1\"><a [routerLink]=\"['/followers', userPageId, prev_page]\" class=\"btn btn-sm btn-default\">Anterior</a></li>\r\n                <li *ngIf=\"pages != page\"><a [routerLink]=\"['/followers', userPageId, next_page]\" class=\"btn btn-sm btn-default\">Siguiente</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n","export class Follow{\r\n    constructor(\r\n        public _id: string,\r\n        public user: string,\r\n        public followed: string\r\n    ){\r\n    }\r\n}","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-loading',\r\n  templateUrl: './loading.component.html',\r\n  styleUrls: ['./loading.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ]\r\n})\r\nexport class LoadingComponent implements OnInit {\r\n  public splash: boolean;\r\n  public router: string;\r\n\r\n  constructor(\r\n    private _router: Router\r\n  ) { \r\n    this.router = _router.url;\r\n    if(this.router === '/register' || this.router === '/login' || this.router === '/'){\r\n      this.splash = true;\r\n    }else{\r\n      this.splash = false;\r\n    }\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div class=\"loading-container d-flex flex-column justify-content-center\">\r\n        <h1 @fade class=\"brand\" *ngIf=\"splash\" data-text=\"Vaporbox\">Vaporbox</h1>\r\n        <img class=\"loading-logo\" src=\"assets/img/loading.svg\" alt=\"Logo de cargando\">\r\n</div>\r\n","export class Message{\r\n    constructor(\r\n        public _id:string,\r\n        public text:string,\r\n        public viewed:string,\r\n        public created_at:string,\r\n        public emitter,\r\n        public receiver\r\n    ) {\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { User } from '../models/user';\r\n\r\n@Injectable()\r\n\r\nexport class UserService{\r\n    public identity;\r\n    public token;\r\n    public stats;\r\n\r\n    constructor( public _http: HttpClient ){\r\n    }\r\n\r\n    register(user: User): Observable<any>{\r\n       let params = JSON.stringify(user);\r\n       let headers = new HttpHeaders().set('Content-Type', 'application/json');\r\n\r\n       return this._http.post('api/register', params, {headers: headers})\r\n    }\r\n\r\n    signup(user: any, gettoken = null):Observable<any>{\r\n           if(gettoken != null){\r\n               user.gettoken = gettoken;\r\n           } \r\n\r\n           let params = JSON.stringify(user);\r\n           let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n\r\n           return this._http.post('api/login', params, {headers: headers})\r\n\r\n    }\r\n\r\n    getIdentity(){\r\n        let identity = JSON.parse(localStorage.getItem('identity'));\r\n        \r\n        if(identity != undefined){\r\n            this.identity = identity;\r\n        }else{\r\n            this.identity = null;\r\n        }\r\n\r\n        return this.identity;\r\n    }\r\n\r\n    getToken(){\r\n        let token = JSON.parse(localStorage.getItem('token'));\r\n\r\n        if(token != undefined){\r\n            this.token = token;\r\n        }else{\r\n            this.token = null;\r\n        }\r\n        \r\n        return this.token;\r\n    }\r\n\r\n    getStats(){\r\n        let stats = JSON.parse(localStorage.getItem('stats'));\r\n\r\n        if(stats != \"undefined\"){\r\n            this.stats = stats;\r\n        }else{\r\n            this.stats = null;\r\n        }\r\n\r\n        return this.stats\r\n    }\r\n\r\n    getCounters(userId = null):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', this.getToken());\r\n\r\n        if(userId != null){\r\n            return this._http.get('api/counters/'+userId, {headers: headers});\r\n        }else{\r\n            return this._http.get('api/counters/', {headers: headers});\r\n        }\r\n    }\r\n\r\n    updateUser(user:User):Observable<any>{\r\n        let params = JSON.stringify(user);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                    .set('Authorization', this.getToken());\r\n        \r\n        return this._http.put('api/update-user/'+user._id, params, {headers: headers});\r\n\r\n    }\r\n\r\n    getUsers( page = null ):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        return this._http.get('api/users/'+page, {headers:headers});\r\n    }\r\n\r\n    getUser( id:any ):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        return this._http.get('api/user/'+id, {headers:headers});\r\n    }\r\n\r\n    deleteUser( id:any ):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        return this._http.delete('api/user/'+ id, {headers:headers});\r\n    }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class MessageService{   \r\n\r\n    constructor(private _http: HttpClient) {\r\n    }\r\n\r\n    addMessage(token, message):Observable<any>{\r\n        let params = JSON.stringify(message);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', token);\r\n        \r\n        return this._http.post('api/message/', params, {headers: headers});\r\n    }\r\n\r\n    getMessages(token, id):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', token);\r\n        \r\n        return this._http.get('api/messages/' + id, {headers: headers});\r\n    }\r\n\r\n    getUnviewedMessages(token):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', token);\r\n        \r\n        return this._http.get('api/unviewed-messages/', {headers: headers});\r\n    }\r\n\r\n    setViewedMessages(token, message):Observable<any>{\r\n        let params = JSON.stringify(message);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                        .set('Authorization', token);\r\n        \r\n        return this._http.post('api/set-viewed-messages/', params, {headers: headers});\r\n    }\r\n\r\n    \r\n\r\n\r\n}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule, Routes } from '@angular/router';\r\n\r\nimport { LoginComponent } from './components/login/login.component';\r\nimport { RegisterComponent } from './components/register/register.component';\r\nimport { UserEditComponent } from './components/user-edit/user-edit.component';\r\nimport { UsersComponent } from './components/users/users.component';\r\nimport { TimelineComponent } from './components/timeline/timeline.component';\r\nimport { ProfileComponent } from './components/profile/profile.component';\r\nimport { FollowingComponent } from './components/following/following.component';\r\nimport { FollowersComponent } from './components/followers/followers.component';\r\nimport { ChatComponent } from './components/chat/chat.component';\r\nimport { NotificationsComponent } from './components/notifications/notifications.component';\r\n\r\nimport { UserGuard } from './services/user.guard';\r\n\r\nconst routes: Routes = [\r\n    {\r\n      path: '',\r\n      component: RegisterComponent\r\n    },\r\n    {\r\n      path: 'login',\r\n      component: LoginComponent\r\n    },\r\n    {\r\n      path: 'register',\r\n      component: RegisterComponent\r\n    },\r\n    {\r\n      path: 'profile/:id',\r\n      component: ProfileComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'user-edit',\r\n      component: UserEditComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'users',\r\n      component: UsersComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'users/:page',\r\n      component: UsersComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'timeline',\r\n      component: TimelineComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'following/:id/:page',\r\n      component: FollowingComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'followers/:id/:page',\r\n      component: FollowersComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'chat',\r\n      component: ChatComponent,\r\n      canActivate: [UserGuard]\r\n    },\r\n    {\r\n      path: 'notifications',\r\n      component: NotificationsComponent,\r\n      canActivate: [UserGuard]\r\n    }  \r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forRoot(routes),\r\n    \r\n  ],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { User } from '../../models/user';\r\nimport { Follow } from '../../models/follow';\r\nimport { UserService } from '../../services/user.service';\r\nimport { FollowService } from '../../services/follow.service';\r\nimport { NotificationService } from 'src/app/services/notification.service';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-following',\r\n  templateUrl: './following.component.html',\r\n  styleUrls: ['./following.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(1000)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, FollowService, NotificationService ]\r\n})\r\nexport class FollowingComponent implements OnInit {\r\n  public identity;\r\n  public token;\r\n  public user:User;\r\n  public page;\r\n  public next_page;\r\n  public prev_page;\r\n  public total;\r\n  public pages;\r\n  public users:User[];\r\n  public status:string;\r\n  public follows;\r\n  public following;\r\n  public followMouseOver;\r\n  public userPageId;\r\n  public mobile:boolean;\r\n\r\n\r\n\r\n  constructor(  private _route:ActivatedRoute,\r\n                private _router:Router,\r\n                private _userService:UserService,\r\n                private _followService:FollowService,\r\n                private _notificationService:NotificationService ) \r\n    { \r\n      this.identity = this._userService.getIdentity();\r\n      this.token = this._userService.getToken();\r\n     }\r\n\r\n  ngOnInit(): void {\r\n    this.actualPage();\r\n    if (window.screen.width <= 992) { \r\n      this.mobile = true;\r\n    }else{\r\n      this.mobile = false;\r\n    }\r\n  }\r\n\r\n  actualPage(){\r\n    this._route.params.subscribe(params=>{\r\n      let user_id = params['id'];\r\n      this.userPageId = user_id;\r\n      let page = params['page'];\r\n      this.page = page;\r\n\r\n      if(!params['page'] || page == undefined){\r\n        page = 1;\r\n      }\r\n\r\n      if(!page){\r\n        page = 1\r\n      }else{\r\n        \r\n        this.next_page = parseInt(page) + 1;\r\n        this.prev_page = parseInt(page) - 1;\r\n        if(this.prev_page <= 0){\r\n            this.prev_page = 1;\r\n        }\r\n      }\r\n      \r\n      this.getUser(user_id, page);\r\n    });\r\n  }\r\n\r\n  getFollows( user_id, page ){\r\n    this._followService.getFollowing(this.token, user_id, page).subscribe(\r\n      response => {\r\n        if(!response.follows){\r\n          this.status = \"error\";\r\n        }else{\r\n          this.total = response.total;\r\n          this.following = response.follows;\r\n          this.pages = response.pages;\r\n          this.follows = response.users_following;\r\n\r\n          \r\n\r\n          if(page > this.pages){\r\n            this._router.navigate(['/users/', 1])\r\n          }\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if(errorMessage != null){\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getUser(user_id, page){\r\n    this._userService.getUser(user_id).subscribe(\r\n      response => {\r\n        if(response.user){\r\n          this.user = response.user;\r\n          //Devolver listado de usuarios\r\n          this.getFollows( user_id, page );\r\n        }else{\r\n          this._router.navigate(['/home']);\r\n        }\r\n      },\r\n      error => {\r\n        let errorMessage = <any>error;\r\n        console.log(errorMessage);\r\n\r\n        if(errorMessage != null){\r\n          this.status = \"error\";\r\n        }\r\n      }\r\n    )\r\n  }\r\n\r\n  mouseEnter(user_id){\r\n      this.followMouseOver = user_id;\r\n  }\r\n\r\n  mouseLeave(user_id){\r\n    this.followMouseOver = 0;\r\n  }\r\n\r\n  followUser(followed, user){\r\n    let follow = new Follow('', this.identity._id, followed);\r\n\r\n    this._followService.addFollow(this.token, follow).subscribe(\r\n        response=>{\r\n          if(response.followStored){\r\n            this.status = 'error'\r\n          }else{\r\n            this.status = 'success';\r\n            this.follows.push(followed);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n          this.saveNotification(user);\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    )\r\n  }\r\n\r\n  unfollowUser(followed){\r\n    this._followService.deleteFollow(this.token, followed).subscribe(\r\n        response=>{\r\n          let search = this.follows.indexOf(followed);\r\n          if(search != -1){\r\n            this.follows.splice(search, 1);\r\n          }\r\n          localStorage.removeItem('stats');\r\n          this.getCounters();\r\n          this._userService.getStats();\r\n        },\r\n        error=>{\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n\r\n          if(errorMessage != null){\r\n            this.status = \"error\";\r\n          }\r\n        }\r\n    );\r\n  }\r\n\r\n  getCounters(){\r\n    this._userService.getCounters().subscribe(\r\n        response =>{\r\n            //Guardamos en stats la respuesta JSON\r\n            localStorage.setItem('stats', JSON.stringify(response));\r\n            this.status = 'success';\r\n \r\n        }, \r\n        error=>{\r\n            console.log(error);\r\n        }\r\n        \r\n    )\r\n  }\r\n\r\n  saveNotification(follower){\r\n    this._notificationService.saveNotification(this.token, follower, 'new-follow').subscribe(\r\n      response => {\r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    );\r\n  }\r\n\r\n\r\n}\r\n","<div @fade class=\"following-container col-xl-12 col-lg-12\">\r\n    <div class=\"mt-5 d-flex flex-column justify-content-center\">\r\n        <h3 class=\"mb-3 text-center section-title\" *ngIf=\"user\">Usuarios seguidos por {{user.name}}</h3>\r\n        <div class=\"people mt-3\" *ngIf=\"following\">\r\n            <div *ngFor=\"let follow of following\" class=\"item-user d-flex justify-content-center\">\r\n                <div class=\"card card-default mb-3\">\r\n                    <div class=\"card-body\">\r\n                        <div class=\"image-user pull-left\">\r\n                            <a [routerLink]=\"['/profile/', follow.followed._id]\">\r\n                                <img src=\"{{follow.followed.image}}\" alt=\"Imagen de usuario\" *ngIf=\"follow.followed.image\">\r\n                                <img class=\"default-user-image\" src=\"assets/img/default-user.jpg\" alt=\"Imagen de usuario\" *ngIf=\"!follow.followed.image\">\r\n                            </a>\r\n                        </div>\r\n                        <div class=\"user-name\">\r\n                            <p><a [routerLink]=\"['/profile/', follow.followed._id]\">{{follow.followed.name + ' ' + follow.followed.surname}}</a></p>\r\n                            <p class=\"username\"><small>{{'@'+follow.followed.nick}}</small></p>\r\n                            <p class=\"bio\" *ngIf=\"user.bio\">{{follow.followed.bio}}</p>\r\n                        </div>\r\n                        <!--seguir y dejar de seguir-->\r\n                        <div class=\"pull-right\" *ngIf=\"follow.followed._id != identity._id\">\r\n                            \r\n                            <button class=\"btn btn-default\" \r\n                            *ngIf=\"follows.indexOf(follow.followed._id) < 0\"\r\n                            (click)=\"followUser(follow.followed._id, follow.followed)\">\r\n                                <i class=\"fa fa-user-plus\"></i><span class=\"button-text\">Seguir</span>\r\n                            </button>\r\n    \r\n                            <button class=\"btn btn-primary\" *ngIf=\"follows.indexOf(follow.followed._id) >= 0\"\r\n                                (mouseenter)=\"mouseEnter(follow.followed._id)\"\r\n                                (mouseleave)=\"mouseLeave(follow.followed._id)\"\r\n                                (click)=\"unfollowUser(follow.followed._id)\"\r\n                                >\r\n                                <span *ngIf=\"follow.followed._id == followMouseOver && !mobile; else following\">\r\n                                    <i class=\"fa fa-user-times\"></i><span class=\"button-text\">Dejar de seguir</span>\r\n                                </span>\r\n                                <ng-template #following>\r\n                                    <i class=\"fa fa-check\"></i><span class=\"button-text\">Siguiendo</span>\r\n                                </ng-template>\r\n                                \r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--Paginacin-->\r\n        <div class=\"d-flex justify-content-center\">\r\n            <ul class=\"pagination\">\r\n                <li *ngIf=\"page > 1\"><a [routerLink]=\"['/following', userPageId, prev_page]\" class=\"btn btn-sm btn-default\">Anterior</a></li>\r\n                <li *ngIf=\"pages != page\"><a [routerLink]=\"['/following', userPageId, next_page]\" class=\"btn btn-sm btn-default\">Siguiente</a></li>\r\n            </ul>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\nimport { Publication } from '../models/publication';\r\n\r\n@Injectable()\r\nexport class PublicationService{\r\n    public token;\r\n\r\n    constructor( private _http: HttpClient ){\r\n    }\r\n\r\n    getToken(){\r\n        let token = JSON.parse(localStorage.getItem('token'));\r\n\r\n        if(token != undefined){\r\n            this.token = token;\r\n        }else{\r\n            this.token = null;\r\n        }\r\n        \r\n        return this.token;\r\n    }\r\n\r\n    addPublication(token, publication):Observable<any>{\r\n        let params = JSON.stringify(publication);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.post('api/publication', params, {headers: headers})\r\n                                     \r\n    }\r\n\r\n    getPublications(token, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.get('api/publications/' + page, {headers: headers})\r\n    }\r\n\r\n    getPublication(publication: Publication):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        \r\n        return this._http.get('api/publication/' + publication._id, {headers: headers})\r\n    }\r\n\r\n    getPublicationsUser(token, user_id, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.get('api/publications-user/' + user_id + '/' + page, {headers: headers})\r\n    }\r\n\r\n    deletePublication(token, id):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', token);\r\n        \r\n        return this._http.delete('api/publication/' + id, {headers: headers})\r\n    }\r\n\r\n    savePublication(publication: Publication):Observable<any>{\r\n        let params = JSON.stringify(publication);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        \r\n        return this._http.put('api/saved-publication/' + publication._id, params, {headers: headers})\r\n    }\r\n\r\n    getSavedPublications(id, page = 1):Observable<any>{\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        \r\n        return this._http.get('api/get-saved-publications/' + id + '/' + page, {headers: headers})\r\n    }\r\n\r\n    likePublication(publication: Publication):Observable<any>{\r\n        let params = JSON.stringify(publication);\r\n        let headers = new HttpHeaders().set('Content-Type', 'application/json')\r\n                                       .set('Authorization', this.getToken());\r\n        \r\n        return this._http.put('api/like-publication/' + publication._id, params, {headers: headers})\r\n    }\r\n\r\n}","import { Component, OnInit, EventEmitter, Output, AfterViewInit, ViewChild, ElementRef } from '@angular/core';\r\nimport { UserService } from '../../services/user.service';\r\nimport { UploadService } from '../../services/upload.service';\r\nimport { PublicationService } from '../../services/publication.service';\r\nimport { Publication } from '../../models/publication';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\nimport { trigger, state, style, animate, transition } from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'app-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  styleUrls: ['./sidebar.component.scss'],\r\n  animations: [ \r\n    trigger('fade', [\r\n      state('void', style({ opacity: 0, height: 0 })),\r\n      transition(':enter, :leave', [\r\n        animate(500)\r\n      ])\r\n    ])\r\n   ],\r\n  providers: [ UserService, UploadService, PublicationService ]\r\n})\r\n\r\nexport class SidebarComponent implements OnInit, AfterViewInit{\r\n  public identity;\r\n  public token;\r\n  public stats;\r\n  public status:string;\r\n  public publication:Publication;\r\n  public filesToUpload: Array<File>;\r\n  public showNewPublication:boolean;\r\n\r\n  private _listener:any;\r\n\r\n  @Output() sent = new EventEmitter();\r\n  @ViewChild('fileInput')\r\n  fileInputVariable: ElementRef;\r\n\r\n  constructor(\r\n    private _userService:UserService,\r\n    private _publicationService:PublicationService,\r\n    private _uploadService:UploadService,\r\n    private _route:ActivatedRoute,\r\n    private _router:Router\r\n  ) { \r\n    this.identity = this._userService.getIdentity();\r\n    this.token = this._userService.getToken();\r\n    this.stats = this._userService.getStats();\r\n    this.publication = new Publication( '', null, '', '', this.identity._id, [], [] );\r\n    this.showNewPublication = false;\r\n   }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    if (window.addEventListener) {\r\n      window.addEventListener(\"storage\", this._listener, false);\r\n      this._listener = () => {\r\n        this.getCounters();\r\n     }\r\n    }\r\n  }\r\n\r\n  onSubmit(form, event){\r\n    if( (this.publication.text != null) || this.fileInputVariable.nativeElement.value != '' ){\r\n      this._publicationService.addPublication(this.token, this.publication).subscribe(\r\n        response => {\r\n          if(response.publication){\r\n            if(this.filesToUpload && this.filesToUpload.length){\r\n              //subir imagen\r\n              this._uploadService.makeFileRequest('api/upload-image-pub/' + response.publication._id, [], this.filesToUpload, this.token, 'image')\r\n                                  .then((result:any) => {\r\n                                      this.status = 'success';\r\n                                      this.stats = this._userService.getStats();\r\n                                      form.reset();\r\n                                      this.resetFileInput();\r\n                                      this._router.navigate(['/timeline']);\r\n                                      this.sent.emit({sent: 'true'});\r\n                                  });\r\n            }else{\r\n              this.status = 'success';\r\n              form.reset();\r\n              this.resetFileInput();\r\n              this.getCounters();\r\n              this._router.navigate(['/timeline']);\r\n              this.sent.emit({sent: 'true'});\r\n              \r\n            }\r\n            \r\n          }else{\r\n            this.status = 'error';\r\n          }\r\n        },\r\n        error => {\r\n          let errorMessage = <any>error;\r\n          console.log(errorMessage);\r\n          if(errorMessage != null){\r\n            this.status = 'error';\r\n          }\r\n        });\r\n    }\r\n    else{\r\n      this.status = 'error';\r\n    }\r\n  }\r\n\r\n  fileChangeEvent(fileInput: any){\r\n    this.filesToUpload = <Array<File>>fileInput.target.files;\r\n  }\r\n\r\n  showForm(event){\r\n    if(this.showNewPublication === true){\r\n      this.showNewPublication = false;\r\n    }else{\r\n      this.showNewPublication = true;\r\n    }\r\n  }\r\n\r\n  getCounters(){\r\n    this._userService.getCounters().subscribe(\r\n      response => {\r\n        localStorage.setItem('stats', JSON.stringify(response));\r\n        this.status = 'success'; \r\n        this._router.navigate(['/timeline']);\r\n        this.stats = this._userService.getStats();\r\n        \r\n      },\r\n      error => {\r\n        console.log(<any>error);\r\n      }\r\n    )\r\n  }\r\n\r\n  resetFileInput() {\r\n    this.fileInputVariable.nativeElement.value = '';\r\n  }\r\n\r\n}\r\n","<div class=\"sidebar-container\" >\r\n\r\n    <button class=\"btn btn-default mt-lg-3\" (click)=\"showForm($event)\">\r\n        <i class=\"fa fa-minus\" *ngIf=\"showNewPublication\"></i>\r\n        <span *ngIf=\"!showNewPublication\">\r\n            <i class=\"fa fa-plus\"></i>\r\n             Nueva publicacin\r\n        </span>\r\n    </button>\r\n\r\n    <div @fade id=\"new-publication\" *ngIf=\"showNewPublication\">\r\n        <div class=\"col-xl-10 col-lg-10 col-md-10\">\r\n            <div class=\"text-center\">\r\n                <h5 class=\"mb-3 section-title\">Crear publicacin</h5>\r\n            </div>\r\n            <div class=\"alert alert-danger text-center\" *ngIf=\"status == 'error'\">\r\n                La publicacin no puede estar vaca!\r\n            </div>\r\n        </div>\r\n        <div class=\"form-container mb-3\">\r\n            <form #newPubForm=\"ngForm\" (ngSubmit)=\"onSubmit(newPubForm, $event)\" class=\"col-xl-10 col-lg-10 col-md-10 text-center\">\r\n                <textarea name=\"text\" \r\n                placeholder=\"Qu ests pensando hoy?\" \r\n                #text='ngModel' \r\n                [(ngModel)]=\"publication.text\" \r\n                class=\"form-control\">\r\n                </textarea>\r\n        \r\n                <input #fileInput type=\"file\" class=\"form-control\" (change)=\"fileChangeEvent($event)\"/>\r\n        \r\n                <button type=\"submit\" class=\"btn btn-default\" [disabled]=\"!newPubForm.form.valid\">Publicar</button>\r\n            </form>\r\n        </div>\r\n    </div>\r\n    \r\n\r\n\r\n    <div id=\"user-card\" class=\"card card-default text-center mt-5\">\r\n        <div class=\"avatar pull-left\">\r\n            <a [routerLink]=\"['/profile', identity._id]\"><img src=\"{{identity.image}}\" alt=\"Imagen de usuario\" *ngIf=\"identity.image\"></a>\r\n            <img src=\"assets/img/default-user.jpg\" class=\"default-img\" alt=\"Imagen de usuario\" *ngIf=\"!identity.image || identity.image == null\">\r\n        </div>\r\n        <div class=\"name-surname pull-right\">\r\n            <a [routerLink]=\"['/profile', identity._id]\">{{ identity.name + ' ' + identity.surname }}</a>\r\n            <p>{{ \"@\"+identity.nick }}</p>\r\n            <p>{{ identity.bio }}</p>\r\n        </div>\r\n        <div class=\"stats d-flex justify-content-around\" *ngIf=\"stats\">\r\n                <div class=\"following-data\">\r\n                    <a [routerLink]=\"['/following', identity._id, 1]\">\r\n                        <span class=\"label-stats\">\r\n                            Siguiendo\r\n                        </span><br>\r\n                        <span class=\"number-stats\">\r\n                            {{ stats.following }}\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n                <div class=\"following-data\">\r\n                    <a [routerLink]=\"['/followers', identity._id, 1]\">\r\n                        <span class=\"label-stats\">\r\n                            Seguidores\r\n                        </span><br>\r\n                        <span class=\"number-stats\">\r\n                            {{ stats.followed }}\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n                <div class=\"following-data following-data-publications\">\r\n                    <a [routerLink]=\"['/profile', identity._id]\">\r\n                        <span class=\"label-stats\">\r\n                            Publicaciones\r\n                        </span><br>\r\n                        <span class=\"number-stats\" *ngIf=\"stats.publications\">\r\n                            {{ stats.publications }}\r\n                        </span>\r\n                        <span class=\"number-stats\" *ngIf=\"!stats.publications\">\r\n                            0\r\n                        </span>\r\n                    </a>\r\n                </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}